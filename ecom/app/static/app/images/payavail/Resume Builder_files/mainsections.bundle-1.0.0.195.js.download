(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1156:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return I}));var n=o(0),a=o.n(n),i=o(812),r=o.n(i),s=o(63),c=o.n(s),l=o(226),p=o(1),u=o(4),d=o(8),m=o(225);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?C(Object(o),!0).forEach((function(t){y(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function y(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function g(e){var t,o=e.state.section&&e.state.section&&e.state.section.paragraphs&&(0==e.state.section.paragraphs.length||1==e.state.section.paragraphs.length&&e.isAddMode),n=o?"button-add-container button-add-container-empty":"button-add-container",i=o?e.localization.addSectionBtnText:e.localization.addCompanyBtnText,s=e.screenName===p.H.position||e.screenName===p.H.company||e.screenName===p.H.overview&&!u.Z(),f=s?e.localization.saveBtnText:e.localization.continueBtnText,C=e.screenName==p.H.experienceExists?"builder-form-layout-content-section":void 0,y=e.screenName==p.H.overview,g=a.a.createElement(d.O,null);return a.a.createElement(l.a,{showDeleteButton:!o&&y,headingText:e.pageHeadingSubHeading.pageHeading,subHeadingText:e.pageHeadingSubHeading.pageSubHeading,panelBannerProps:p.Q,onDeleteButtonClick:e.onDeleteSectionClick,contentSectionClass:C,hidePanelBanner:!0,isFs_PreviewAndTips:e.isFs_PreviewAndTips,document:e.state.document,currentSectionCD:e.state.section.sectionTypeCD,saveResume:e.saveResume},a.a.createElement(r.a,{ref:function(t){return e.assignRef("volunteerCommunitySection",t)},onParaSort:e.onParaSort,isSortable:!0,DebounceTime:window.BLDR.DebounceTime,portalCd:BLDR.PortalSettings.ConfigurePortalCd,cultureCD:BLDR.cultureCD,PortalId:BLDR.PortalSettings.ConfigurePortal,Section:e.state.section,paragraphId:e.state.paragraph.id,UserUID:e.user.UserUID,documentId:e.state.document.id,ApiUrl:BLDR.Paths.BaseApiUrl,countryCode:BLDR.countryDetails.countryCode,productCd:BLDR.PortalSettings.ConfigureProductCd,showNonDescriptionExperience:!0,showJobTitleWithNotFoundMsg:!0,noJobTitleFoundMsgInHead:!0,hightLightSearchKeyword:!0,exactSearch:!0,validateAllFields:!0,hideEmployerLocation:!0,usePassedParagraphId:!0,Localization:e.localization,isCollapsed:y,showExpanded:e.isEditMode,isAddMode:e.isAddMode,UpdateExperienceParent:e.onComponentChange,deletePopupConfirm:e.deleteParagraph,CurrentStep:e.screenName,autoSuggestCustomTheme:h(h({},p.m),{},{container:"autosuggest-container Select"}),countryList:e.countryList,stateList:e.state.stateList,getYearList:u.R,getMonthOptions:u.D,companyId:e.companyId,addAnotherParagraph:e.addAnotherPosition,deleteModalIcon:g,loadParagraph:e.editPositionOrCompany,useUpdatedUI:!0,showJobTitleFromContent:!e.enableJobTitleAutoSuggest,enableJobTitleAutoSuggest:e.enableJobTitleAutoSuggest,graySuggestionForAutosuggest:e.graySuggestionForAutosuggest,hideCountryCD:e.hideCountryCD,isPlaceholderExp:!1,isFirstFocus:e.isFunnelImprvmnts,isPreviewAndTipsExp:e.isFs_PreviewAndTips,isMobile:BLDR.IsMobileDevice(),useRMCCalendar:e.useRMCCalendar,setLimitForCalender:e.setLimitForCalender,triggerTrackEvent:u.Lb,TTCCulture:BLDR.isCVG?"en-US":BLDR.isGFR?"fr-FR":null}),y&&a.a.createElement("div",{className:n,onClick:e.addAnotherCompany},a.a.createElement("a",{className:"add-field help-text"},a.a.createElement("span",{className:"add-icon"},a.a.createElement(d.M,null))," ",i)),BLDR.IsMobileDevice()?a.a.createElement(m.a,(t={backBtnText:BLDR.Localization.back,onBackClick:e.onBackClick,nextBtnText:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!!u.ab()},s&&(t.backBtnText=e.localization.cancelBtnText,t.onBackClick=e.onCancelClick),e.screenName!=p.H.experienceExists&&(t.onNextClick=e.onContinueClick,t.nextBtnText=f),h({},t))):a.a.createElement("div",{className:"builder-form-layout-button-section"},s&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onCancelClick},e.localization.cancelBtnText),!s&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),e.screenName!=p.H.experienceExists&&a.a.createElement("button",{className:"button button-primary",type:"button",onClick:e.onContinueClick},f)),a.a.createElement(c.a,{isOpen:e.state.showPopup,btnPrimaryLabel:e.localization.delEntryBtnSecondaryLabel,btnSecondaryLabel:e.localization.delEntryBtnPrimaryLabel,btnPrimaryId:"btnExpDeleteSection",continueToEducButtonId:"btnExpSectionCancel",onPrimaryClick:e.closeDeleteSectionPopup,onSecondaryClick:e.deleteSectionPopupConfirm,shouldCloseOnOverlayClick:!0,closeModal:e.closeDeleteSectionPopup,hasHeader:!1,cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary button-delete",modalDialog:"modal-delete-paragraph"}},a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"modal-icon"},g),a.a.createElement("div",{className:"modal-body-content",dangerouslySetInnerHTML:{__html:e.localization.delSectionPopupBody}}))))}var v=o(42),D=o(2),b=o(10),S=o(87);function L(){var e=BLDR.getQueryString("fields"),t=BLDR.getQueryString("add_experience_type"),o=BLDR.getQueryString("paraid"),n=BLDR.getQueryString("companyid"),a=p.H.overview;if(!D.CommonHelper.isNullOrWhitespace(t)&&t===p.H.position||!D.CommonHelper.isNullOrWhitespace(o)&&D.CommonHelper.isNullOrWhitespace(n))a=p.H.position;else if(!D.CommonHelper.isNullOrWhitespace(t)&&t===p.H.company||!D.CommonHelper.isNullOrWhitespace(n))a=p.H.company;else if(!D.CommonHelper.isNullOrWhitespace(e))switch(e){case p.G.companyPosition:a=p.H.details}return a}function T(e){var t=Object(b.b)(e),o=b.c[e];switch(L()){case p.H.company:case p.H.position:t=o}return t}function E(e){return function(e){var t={currentExpParagraphs:[],oldExpParagraphs:[],noEDDTParagraphs:[]},o=[],n=!0;e.forEach((function(e){null!=e.currentExpParagraphs&&null!=e.currentExpParagraphs&&e.currentExpParagraphs.length>0&&(e.currentExpParagraphs.sort(P(D.TypeCodes.fieldCd.JobStartDate,"desc")),e.sortedParagraphs=e.sortedParagraphs.concat(e.currentExpParagraphs),n&&(t.currentExpParagraphs.push(e.currentExpParagraphs[0]),n=!1)),null!=e.oldExpParagraphs&&null!=e.oldExpParagraphs&&e.oldExpParagraphs.length>0&&(e.oldExpParagraphs.sort(P(D.TypeCodes.fieldCd.JobEndDate,"desc")),e.sortedParagraphs=e.sortedParagraphs.concat(e.oldExpParagraphs),n&&(t.oldExpParagraphs.push(e.oldExpParagraphs[0]),n=!1)),null!=e.noEDDTParagraphs&&null!=e.noEDDTParagraphs&&e.noEDDTParagraphs.length>0&&(e.noEDDTParagraphs.sort(P(D.TypeCodes.fieldCd.JobStartDate,"desc")),e.sortedParagraphs=e.sortedParagraphs.concat(e.noEDDTParagraphs),n&&(t.noEDDTParagraphs.push(e.noEDDTParagraphs[0]),n=!1)),n=!0})),null!=t.currentExpParagraphs&&null!=t.currentExpParagraphs&&t.currentExpParagraphs.length>0&&(t.currentExpParagraphs.sort(P(D.TypeCodes.fieldCd.JobStartDate,"desc")),t.currentExpParagraphs.forEach((function(t){var n=t.docDatas.find((function(e){return e.fieldCD==D.TypeCodes.fieldCd.Company})).docDataInfo,a=e.find((function(e){return e.id==n}));o=o.concat(a.sortedParagraphs)})));null!=t.oldExpParagraphs&&null!=t.oldExpParagraphs&&t.oldExpParagraphs.length>0&&(t.oldExpParagraphs.sort(P(D.TypeCodes.fieldCd.JobEndDate,"desc")),t.oldExpParagraphs.forEach((function(t){var n=t.docDatas.find((function(e){return e.fieldCD==D.TypeCodes.fieldCd.Company})).docDataInfo,a=e.find((function(e){return e.id==n}));o=o.concat(a.sortedParagraphs)})));null!=t.noEDDTParagraphs&&null!=t.noEDDTParagraphs&&t.noEDDTParagraphs.length>0&&(t.noEDDTParagraphs.sort(P(D.TypeCodes.fieldCd.JobStartDate,"desc")),t.noEDDTParagraphs.forEach((function(t){var n=t.docDatas.find((function(e){return e.fieldCD==D.TypeCodes.fieldCd.Company})).docDataInfo,a=e.find((function(e){return e.id==n}));o=o.concat(a.sortedParagraphs)})));return o.forEach((function(e,t){e.index=t+1})),o}(function(e){var t=[];return e.reduce((function(e,o){var n,a=null===(n=o.docDatas.find((function(e){return e.fieldCD==D.TypeCodes.fieldCd.Company})))||void 0===n?void 0:n.docDataInfo,i=t.length>0?t.findIndex((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.toLowerCase())===(null==a?void 0:a.toLowerCase())})):-1;if(-1==i){var r=D.CommonHelper.getCharValue(o.docDatas,D.TypeCodes.fieldCd.Company);t.push({id:a,name:r,sortedParagraphs:[],currentExpParagraphs:[],oldExpParagraphs:[],noEDDTParagraphs:[]}),i=t.length-1}var s=D.CommonHelper.getCharValue(o.docDatas,D.TypeCodes.fieldCd.JobEndDate);return D.CommonHelper.isNullOrWhitespace(s)?t[i].noEDDTParagraphs.push(o):s==BLDR.Localization.currentWork_Text?t[i].currentExpParagraphs.push(o):t[i].oldExpParagraphs.push(o),t}),{})}(e))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(o,n){var a=R(D.CommonHelper.getCharValue(o.docDatas,e)),i=R(D.CommonHelper.getCharValue(n.docDatas,e)),r=0;return a>i?r=1:a<i&&(r=-1),"desc"===t?-1*r:r}}function R(e){if(D.CommonHelper.isNullOrWhitespace(e))return new Date("1970/1/1");var t=e.split(" ")[0],o=e.split(" ")[1];return new Date(Date.parse(o+"/"+t+"/5"))}var w=o(56);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=U(e);if(t){var a=U(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return O(this,o)}}function O(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,o){return(t=F(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function F(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(r,e);var t,o,n,i=k(r);function r(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),A(N(o=i.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(o.refsObj[e]=t)})),A(N(o),"addAnotherPosition",(function(e){if(e){var t="".concat(b.c[o.pageName],"?add_experience_type=").concat(p.H.position,"&companyid=").concat(e);o.props.history.push(t)}})),A(N(o),"addAnotherCompany",(function(){var e,t=o.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience",n=o.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?"add community service":"add volunteer experience";t&&n&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(p.F.DOCUMENT_EVENTS,(A(e={},p.E.Activity,"clicked"),A(e,p.E.Page_Name,t),A(e,p.E.Document_Type,"resumes"),A(e,p.E.Cta_Name,n),e),BLDR.UserClaims.user_uid,u.db());var a="".concat(b.c[o.pageName],"?add_experience_type=").concat(p.H.company);o.props.history.push(a)})),A(N(o),"deleteParagraph",(function(e,t){var n=JSON.parse(JSON.stringify(o.state.document)),a=D.DocumentHelper.removeParagraph(n,e,t),i=D.DocumentHelper.getSectionById(a,e),r=o.state.paragraph;if(i&&i.paragraphs&&0===i.paragraphs.length)o.deleteSection();else{if(o.setState({document:a,section:i,paragraph:r}),o.isFs_PreviewAndTips)(0,o.context.setDocument)(u.n(a));o.props.documentActions.UpdateDocument(o.user.UserUID,a)}})),A(N(o),"deleteSection",(function(){var e=JSON.parse(JSON.stringify(o.state.document));if(!D.DocumentHelper.isEmptyParagraphExists(o.state.section)&&o.state.section.paragraphs.length>0){var t=D.DocumentHelper.removeSection(e,o.state.section.id);if(o.isFs_PreviewAndTips)(0,o.context.setDocument)(u.n(t));o.props.documentActions.UpdateDocument(o.user.UserUID,t)}})),A(N(o),"getStateListFromCountry",(function(e){if(e&&e.docDatas){var t=D.CommonHelper.getCharValue(e.docDatas,D.TypeCodes.fieldCd.JobCountry),n=u.t(t);o.getStateList(n)}})),A(N(o),"getStateList",(function(e){if(D.CommonHelper.isNullOrWhitespace(e)||e!=p.r.canada&&e!=p.r.unitedSates)o.state.stateList.length>0&&o.setState({stateList:[]});else if(BLDR.States&&BLDR.States[e]){var t=u.s(D.TypeCodes.fieldCd.JobState,BLDR.States[e]);o.setState({stateList:t})}else o.props.commonActions.GetStateList(e).then((function(e){if(e&&e.length>0){var t=u.s(D.TypeCodes.fieldCd.JobState,e);o.setState({stateList:t})}else o.state.stateList.length>0&&o.setState({stateList:[]})}))})),A(N(o),"updateDocumentState",(function(e,t,n){var a=JSON.parse(JSON.stringify(o.state.document)),i=a.sections.findIndex((function(t){return t.id==e.id}));if(-1==i?(i=a.sections.findIndex((function(t){return t.sectionTypeCD==e.sectionTypeCD})),a.sections[i]=e):a.sections[i]=e,n){var r=u.K(a);a=D.DocumentHelper.deleteEmptyParagrah(a,r),u.zb(a,D.TypeCodes.sectionTypeCd.Volunteer),u.zb(a,D.TypeCodes.sectionTypeCd.Community_Service),o.props.documentActions.UpdateDocument(o.user.UserUID,a),o.context.setDocument(u.n(a)),o.setState({document:a,section:e,paragraph:t})}return a})),A(N(o),"editPositionOrCompany",(function(e,t){var n="";n=t?"".concat(b.c[o.pageName],"?companyid=").concat(t,"&paraid=").concat(e):"".concat(b.c[o.pageName],"?paraid=").concat(e),o.props.history.push(n)})),A(N(o),"onComponentChange",(function(e){var t=o.refsObj.volunteerCommunitySection.getUpdatedSection(),n=o.updateDocumentState(t.Section,t.paragraph,!1);if(o.state.document=n,o.state.section=t.Section,o.state.paragraph=t.paragraph,e&&e.fieldCds&&e.fieldCds.length>0){if(e.fieldCds[0].fieldCd==D.TypeCodes.fieldCd.JobCountry&&o.getStateList(e.fieldCds[0].value),o.isFs_PreviewAndTips){var a=D.TypeCodes.fieldCd;if([a.JobTitle,a.Company,a.JobCountry,a.JobState,a.JobCity,a.JobStartDate,a.JobEndDate,a.JobDescription].includes(e.fieldCds[0].fieldCd))(0,o.context.setDocument)(u.n(n))}}else if(e.skipFieldCheck){(0,o.context.setDocument)(u.n(n))}})),A(N(o),"onSaveResumeClick",(function(){Object(v.b)(),o.onContinueClick(!0)})),A(N(o),"onBackClick",(function(){var e,t=o.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience";t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(p.F.DOCUMENT_EVENTS,(A(e={},p.E.Activity,"clicked"),A(e,p.E.Page_Name,t),A(e,p.E.Document_Type,"resumes"),A(e,p.E.Cta_Name,"back"),e),BLDR.UserClaims.user_uid,u.db());o.setState({document:o.props.document,section:o.props.section,paragraph:o.props.paragraph});var n=function(e){var t=Object(b.a)(e),o=b.c[e];switch(L()){case p.H.company:case p.H.position:t=o}return t}(o.pageName);o.props.history.push(n)})),A(N(o),"onCancelClick",(function(){var e,t=o.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience";t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(p.F.DOCUMENT_EVENTS,(A(e={},p.E.Activity,"clicked"),A(e,p.E.Page_Name,t),A(e,p.E.Document_Type,"resumes"),A(e,p.E.Cta_Name,"cancel"),e),BLDR.UserClaims.user_uid,u.db());o.setState({document:o.props.document,section:o.props.section,paragraph:o.props.paragraph}),o.isFs_PreviewAndTips&&o.context.setDocument(u.n(o.props.document));var n=T(o.pageName);o.props.history.push(n)})),A(N(o),"onContinueClick",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience";"boolean"!=typeof e&&(e=!1);var n=L(),a=T(o.pageName);if(n===p.H.overview){var i;if(1!=e&&t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid)BLDR.TrackEvents(p.F.DOCUMENT_EVENTS,(A(i={},p.E.Activity,"clicked"),A(i,p.E.Page_Name,t),A(i,p.E.Document_Type,"resumes"),A(i,p.E.Cta_Name,"next"),i),BLDR.UserClaims.user_uid,u.db());o.navigateToPage(a,e)}else{var r;if(1!=e&&t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid)BLDR.TrackEvents(p.F.DOCUMENT_EVENTS,(A(r={},p.E.Activity,"clicked"),A(r,p.E.Page_Name,t),A(r,p.E.Document_Type,"resumes"),A(r,p.E.Cta_Name,"save"),r),BLDR.UserClaims.user_uid,u.db());var s=o.refsObj.volunteerCommunitySection.getUpdatedSection(!0);s.Section.paragraphs=E(s.Section.paragraphs),s.isValid&&(o.updateDocumentState(s.Section,s.paragraph,!0),o.navigateToPage(a,e,o.props.isAddMode))}})),A(N(o),"onDeleteSectionClick",(function(e){e&&(e.preventDefault(),e.stopPropagation()),o.setState({showPopup:!0})})),A(N(o),"closeDeleteSectionPopup",(function(){o.setState({showPopup:!1})})),A(N(o),"deleteSectionPopupConfirm",(function(){o.deleteSection(),o.closeDeleteSectionPopup(),o.onCancelClick()})),A(N(o),"onParaSort",(function(e){var t=JSON.parse(JSON.stringify(o.state.document.sections)),n=t.findIndex((function(t){return t.id==e.id}));t[n]=e;var a=JSON.parse(JSON.stringify(o.state.document));a.sections=t,e&&e.paragraphs&&e.paragraphs.length>0&&a&&(o.setState({section:e,document:a}),o.liveResumePreview&&o.updateDocumentContext(o.state.document),o.props.documentActions.UpdateDocument(o.user.UserUID,a))})),o.refsObj={},o.user=u.P(),o.isFs_PreviewAndTips=window.BLDR.featureSets.resumePreviewAndTips,o.state={document:e.document,section:e.section,paragraph:e.paragraph?e.paragraph:{},stateList:[],showPopup:!1},o.pageName=o.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?p.N.communityService:p.N.volunteer,o}return t=r,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.paragraph&&t.paragraph.id!=e.paragraph.id?{paragraph:e.paragraph,section:e.section}:null}}],(o=[{key:"componentDidMount",value:function(){var e,t=L(),o=this.props.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience";o&&t===p.H.overview&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(p.F.DOCUMENT_EVENTS,(A(e={},p.E.Activity,"viewed"),A(e,p.E.Page_Name,o),A(e,p.E.Document_Type,"resumes"),e),BLDR.UserClaims.user_uid,u.db()),this.getStateListFromCountry(this.state.paragraph)}},{key:"componentDidUpdate",value:function(){this.props.paragraph&&this.state.paragraph&&this.props.paragraph.id!=this.state.paragraph.id&&(this.getStateListFromCountry(this.props.paragraph),this.setState({document:this.props.document,section:this.props.section,paragraph:this.props.paragraph}))}},{key:"navigateToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=u.E(e,t,this.props.location,o);t&&document.body.classList.remove("fs-live-previewV2"),this.props.history.push(n)}},{key:"updateDocumentContext",value:function(e){this.context.setDocument(u.n(e))}},{key:"render",value:function(){var e=L(),t=this.state.section.sectionTypeCD===D.TypeCodes.sectionTypeCd.Community_Service?S.f:S.v;t=u.Bb(t,"volunteercommunityservice");var o=function(e,t,o){var n=o.overviewHeadingText,a=o.overviewSubHeadingText;switch(e){case p.H.details:n=o.sectionDetailsHeadingText,a="";break;case p.H.company:n=t?o.editCompanyHeadingText:o.addCompanyHeadingText,a="";break;case p.H.position:n=t?o.editPositionHeadingText:o.addPositionHeadingText,a=""}return{pageHeading:n,pageSubHeading:a}}(e,this.props.isEditMode,t),n=u.u(D.TypeCodes.fieldCd.JobCountry,!0),i=BLDR.getQueryString("companyid"),r=u.N(this.state.section.sectionTypeCD);return a.a.createElement(g,{assignRef:this.assignRef,screenName:e,onParaSort:this.onParaSort,state:this.state,user:this.user,isEditMode:this.props.isEditMode,isAddMode:this.props.isAddMode,localization:t,onCancelClick:this.onCancelClick,onBackClick:this.onBackClick,onContinueClick:this.onContinueClick,companyId:i,addAnotherPosition:this.addAnotherPosition,addAnotherCompany:this.addAnotherCompany,pageHeadingSubHeading:o,editPositionOrCompany:this.editPositionOrCompany,deleteParagraph:this.deleteParagraph,countryList:n,onComponentChange:this.onComponentChange,closeDeleteSectionPopup:this.closeDeleteSectionPopup,deleteSectionPopupConfirm:this.deleteSectionPopupConfirm,onDeleteSectionClick:this.onDeleteSectionClick,useUpdatedUI:!0,enableJobTitleAutoSuggest:!0,trackingPlacement:r,graySuggestionForAutosuggest:!0,hideCountryCD:u.U(),isFunnelImprvmnts:window.BLDR.featureSets.isFunnelImprovements,isFs_PreviewAndTips:this.isFs_PreviewAndTips,saveResume:this.isFs_PreviewAndTips?this.onSaveResumeClick:null,isMobile:this.props.isMobile,useRMCCalendar:!1,setLimitForCalender:!0})}}])&&_(t.prototype,o),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component);A(I,"contextType",w.a)},1160:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return U})),o.d(t,"mapDispatchToProps",(function(){return A}));var n=o(0),a=o.n(n),i=o(33),r=o(22),s=o(863),c=o.n(s),l=o(96),p=o(758),u=o(877),d=(o(878),o(1)),m=o(251);function f(e){var t={centerMode:BLDR.isRC,centerPadding:"100px",dots:BLDR.IsMobileDevice(),slidesToScroll:1,infinite:!1,slidesToShow:1,focusOnSelect:BLDR.isRC,swipeToSlide:!0,speed:500,variableWidth:BLDR.isRC,initialSlide:7,nextArrow:a.a.createElement(p.a,null),prevArrow:a.a.createElement(p.b,null),responsive:[{breakpoint:767,settings:{arrows:!0,centerMode:!0,centerPadding:"45px",dots:!1,initialSlide:0,nextArrow:a.a.createElement(p.a,{useSolidIcon:!0}),prevArrow:a.a.createElement(p.b,{useSolidIcon:!0})}},{breakpoint:1024,settings:{centerMode:BLDR.isRC,centerPadding:"100px",slidesToShow:BLDR.IsMobileDevice()||BLDR.isIPAD()||!BLDR.isRC?1:3,adaptiveHeight:BLDR.isRC}}],appendDots:function(e){return a.a.createElement(u.a,{dots:e,numDotsToShow:8,dotWidth:20})}},o=e.skins;return e.useRendererForCT&&(o=o.filter((function(t){return t.skinColor==e.selectedColorName}))),a.a.createElement("div",{className:"fs-choose-template-panel ".concat(e.useRendererForCT?"html-skins":"")},a.a.createElement("div",{className:"choose-template-panel-header"},a.a.createElement(l.a,{hideHamburgerIcon:!0})),a.a.createElement("div",{className:"choose-template-panel-main"},a.a.createElement(c.a,{hidePreviewTemplateButton:!0,Localization:e.localization,skins:o,headingControl:e.headingControl,carouselSettings:t,colors:d.o,selectedColorName:e.selectedColorName,onColorPickerClick:e.onColorPickerClick,recommendedSkinArray:e.recommendedSkinArray,allSkinArray:e.allSkinArray,onRecommenededTemplateClick:e.onRecommenededTemplateClick,isRecommendedTemplatesClicked:e.isRecommendedTemplatesClicked,onViewAllTemplateClick:e.onViewAllTemplateClick,isViewAllTemplateClicked:e.isViewAllTemplateClicked,onSelectTemplateClick:e.onSelectTemplateClick,fsPersonalizedChooseTemplate:e.fsPersonalizedChooseTemplate,useRendererForCT:e.useRendererForCT,getSkinComponent:e.useRendererForCT?m.a:m.b,scaleSkinsSVGWidthHeight:e.scaleSkinsSVGWidthHeight,isMobilePersonalizedChooseTemplate:e.isMobilePersonalizedChooseTemplate})))}var C=o(87),h=o(4),y=o(2),g=o(48),v=o(41),D=o(88),b=o(10),S=o(42);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function E(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=_(e);if(t){var a=_(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return w(this,o)}}function w(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,o){return(t=k(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function k(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var O=o(320),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(r,e);var t,o,n,i=R(r);function r(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),x(B(o=i.call(this,e,t)),"scaleSkinsSVGWidthHeight",(function(e){BLDR.featureSets.useRendererForCT&&e&&e.forEach((function(e){o.setResumePreviewDimension(e),o.isSafari&&o.checkScaling(1e3,e)}))})),x(B(o),"checkScaling",(function(e,t){setTimeout((function(){var e=document.querySelector(o.docSelectorQueryString);if(e&&e.getBoundingClientRect()&&e.getBoundingClientRect().width&&e.offsetWidth){var n=e.getBoundingClientRect().width/e.offsetWidth;n&&1===n&&o.setResumePreviewDimension(t)}}),e)})),x(B(o),"getChooseTemplateLocalization",(function(){var e=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){x(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},C.e);return o.isMobilePersonalizedChooseTemplate&&(e.recommended_Templates_Text=BLDR.Localization.recommended_Templates_Text_Exp,e.view_All_Templates_Text=BLDR.Localization.view_All_Templates_Text_Exp),e})),x(B(o),"setResumePreviewDimension",(function(e){var t=document.querySelector("#document, .document.skn-"+(e&&e.id?e.id.toLowerCase():"")),o=document.querySelector(".svg-skin");if(t&&o){var n=o.offsetWidth/t.offsetWidth;t.style.transform="scale(".concat(n,")"),t.style.transformOrigin="0 0"}})),x(B(o),"conductLocalizingLabelsExperiment",(function(){0==h.y(BLDR.PortalExperiments.expLocalizingLabels)&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expLocalizingLabels.id,BLDR.PortalExperiments.expLocalizingLabels.conductForOldUsers).then((function(e){e&&e.isSuccess&&e.data&&2==e.data.variant&&(window.BLDR.featureSets.AddAdditionalFields=!0,BLDR.featureSets.countrySpecificLabels=!0,BLDR.featureSets.countrySpecificAdditionalFieldPlaceHolders=!0,d.ib({reInitaiteLabels:!0,reInitaiteAdditionalFieldPlaceHolders:!0}),h.sb())}))})),x(B(o),"conductPlaceholderTextThroughoutFunnelExperiment",(function(){0==h.y(BLDR.PortalExperiments.expPlaceholderTextThroughoutFunnel)&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expPlaceholderTextThroughoutFunnel.id,BLDR.PortalExperiments.expPlaceholderTextThroughoutFunnel.conductForOldUsers).then((function(e){e&&e.isSuccess&&e.data&&2==e.data.variant&&(BLDR.featureSets.countrySpecificPlaceHolders=!0,BLDR.featureSets.countrySpecificAdditionalFieldPlaceHolders=!0,d.ib({reInitaitePlaceHolders:!0,reInitaiteAdditionalFieldPlaceHolders:!0}))}))})),x(B(o),"conductSimplifyContactH1Experiment",(function(){0==h.y(BLDR.PortalExperiments.expRGNSimplifyContactH1)&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expRGNSimplifyContactH1.id,BLDR.PortalExperiments.expRGNSimplifyContactH1.conductForOldUsers).then((function(e){var t=e&&e.isSuccess&&e.data&&e.data.variant;BLDR.featureSets.simplifyContactH1Variant2=2==t,BLDR.featureSets.simplifyContactH1Variant3=3==t})).catch((function(){BLDR.featureSets.simplifyContactH1Variant2=!1,BLDR.featureSets.simplifyContactH1Variant3=!1}))})),x(B(o),"conductLocationAutofillExperiment",(function(){return new Promise((function(e){var t=h.y(BLDR.PortalExperiments.expRGNLocationAutofill);BLDR.UserClaims.user_uid&&!BLDR.featureSets.locationAutofill&&"Guest"==BLDR.UserClaims.role&&BLDR.PortalExperiments.expRGNLocationAutofill&&BLDR.PortalExperiments.expRGNLocationAutofill.id&&0==t&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expRGNLocationAutofill.id,BLDR.PortalExperiments.expRGNLocationAutofill.conductForOldUsers).then((function(t){t&&t.isSuccess&&t.data&&2==t.data.variant&&(window.BLDR.featureSets.locationAutofill=!0),e("Experiment RGN Location Autofill Experiment Conduction Resolved!")})).catch((function(){e("Experiment RGN Location Autofill Experiment Conduction Resolved!!")}))}))})),x(B(o),"setScalingFactorOnResize",(function(){o.scaleSkinsSVGWidthHeight()})),x(B(o),"conductPhoneMaskingExperiment",(function(){0==h.y(BLDR.PortalExperiments.expCVGPhoneMasking)&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expCVGPhoneMasking.id).then((function(e){var t=e&&e.isSuccess&&e.data&&e.data.variant;BLDR.featureSets.autoPhoneMask=2==t})).catch((function(){BLDR.featureSets.autoPhoneMask=!1}))})),x(B(o),"conductCVGModifyContact",(function(e,t,n){BLDR.startPageLoader(),o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expCVGModifyContact.id).then((function(a){BLDR.closePageLoader();var i=a&&a.isSuccess&&a.data&&a.data.variant;BLDR.featureSets.modifyContactDetails=2==i,o.continueAfterExperimentCall(e,t,n)})).catch((function(){BLDR.closePageLoader(),BLDR.featureSets.modifyContactDetails=!1,o.continueAfterExperimentCall(e,t,n)}))})),x(B(o),"continueAfterExperimentCall",(function(e,t,n){o.props.documentActions.UpdateDocument(o.user.UserUID,e,t),h.g(),o.props.history.push(n)})),x(B(o),"getHeadingControl",(function(){return a.a.createElement("div",{className:"choose-template-panel-title-wrapper"},!o.isMobilePersonalizedChooseTemplate&&a.a.createElement("p",{className:"choose-template-panel-title"},h.X()?"":BLDR.Localization.buildResume_Text_Exp),a.a.createElement("h1",{className:"choose-template-panel-sub-title",dangerouslySetInnerHTML:{__html:o.getSubHeadingText()}}),!o.isMobilePersonalizedChooseTemplate&&a.a.createElement("a",{className:"skip-choose-template",onClick:function(){return o.onSelectTemplateClick(BLDR.Localization.choose_default_SkinCD,!0)},name:"skip link"},window.BLDR.featureSets.isFunnelImprovements?BLDR.Localization.or_Skip_This_Step_Exp:BLDR.Localization.or_Skip_This_Step))})),x(B(o),"getSubHeadingText",(function(){if(o.state.isRecommendedTemplatesClicked){if(h.X())return BLDR.Localization.select_CV_template;var e;e=window.BLDR.featureSets.isFunnelImprovements?BLDR.Localization.subHeading_Choose_Template_Exp:o.isMobilePersonalizedChooseTemplate?BLDR.Localization.subHeading_Choose_Template_Mobile_Choose_Template_Exp:BLDR.Localization.subHeading_Choose_Template;var t=d.ab.stillEnrolled,n=h.x(o.props.document,d.v.experienceLevel)||"",a=h.x(o.props.document,d.v.graduationStatus)||"";switch(n){case BLDR.Localization.zero_Exp_Level:a.toLowerCase()===d.eb["".concat(t)].toLowerCase()?window.BLDR.featureSets.isFunnelImprovements?e=BLDR.Localization.subHeading_Choose_Template_for_student+BLDR.Localization.current_students_Text:o.isMobilePersonalizedChooseTemplate?e+=BLDR.Localization.current_students_Mobile_Choose_Template_Text_Exp:e+=BLDR.Localization.current_students_Text:e+=o.isMobilePersonalizedChooseTemplate?BLDR.Localization.no_work_experience_Mobile_Choose_Template_Text_Exp:BLDR.Localization.no_work_experience_Text;break;case BLDR.Localization.zero_To_Three_Exp_Level:e+=window.BLDR.featureSets.isFunnelImprovements?BLDR.Localization.choose_template_less_than_three_Exp:o.isMobilePersonalizedChooseTemplate?BLDR.Localization.zero_to_three_Mobile_Choose_Template_Exp:BLDR.Localization.less_than_three_Exp;break;case BLDR.Localization.three_To_Five_Exp_Level:e+=window.BLDR.featureSets.isFunnelImprovements?BLDR.Localization.choose_template_three_to_five_Exp:o.isMobilePersonalizedChooseTemplate?BLDR.Localization.three_to_five_Mobile_Choose_Template_Exp:BLDR.Localization.three_to_five_Exp;break;case BLDR.Localization.five_To_Ten_Exp_Level:e+=window.BLDR.featureSets.isFunnelImprovements?BLDR.Localization.choose_template_five_to_ten_Exp:o.isMobilePersonalizedChooseTemplate?BLDR.Localization.five_to_ten_Mobile_Choose_Template_Exp:BLDR.Localization.five_to_ten_Exp;break;case BLDR.Localization.ten_Plus_Exp_Level:e+=window.BLDR.featureSets.isFunnelImprovements?BLDR.Localization.choose_template_ten_plus_Exp:o.isMobilePersonalizedChooseTemplate?BLDR.Localization.ten_plus_Mobile_Choose_Template_Exp:BLDR.Localization.ten_plus_Exp}return e}return o.isMobilePersonalizedChooseTemplate?BLDR.Localization.subHeading_ChooseTemplate_ViewAll_Mobile_Choose_Template_Text_Exp:BLDR.Localization.subHeading_ChooseTemplate_ViewAll})),x(B(o),"getAllSkins",(function(){var e=[];return d.p.forEach((function(t){BLDR.Skins.forEach((function(o){var n={};n.id=o.id,n.skinCD=o.skinCD,n.oldSkinCD=o.oldSkinCD,n.oldId=o.oldId,n.name=o.name,n.skinColor="".concat(t.key),n.skinTypeCd=o.skinTypeCd,n.sortIndex=o.sortIndex,n.mSortIndex=o.mSortIndex,n.imageURL="".concat(window.BLDR.imagePath,"/images/").concat(BLDR.PortalSettings.ConfigurePortalCd.toLowerCase(),"/").concat(window.BLDR.featureSets.photoUpload&&BLDR.isRG?"skinswithpp":"skins","/").concat(t.key.replace(/\s/g,""),"/").concat(o.skinCD.toLowerCase(),".png"),n.theme="".concat(t.value),e.push(n)}))})),e})),x(B(o),"getColorForColorSelector",(function(){var e=h.w(o.props.document.docStyles,d.yb.SDCL);if(BLDR.featureSets.ReorderOnboardingFunnel&&""==e&&(e=BLDR.Localization.resetColorText),!y.CommonHelper.isNullOrWhitespace(e)){var t=d.p.find((function(t){return t.value.toLowerCase()==e.toLowerCase()}));e=t?t.key:BLDR.Localization.resetColorText}return e})),x(B(o),"onColorPickerClick",(function(e,t){var n=d.p.find((function(e){return e.value.toLowerCase()==t.toLowerCase()}));if(n&&n.key){var a;if(BLDR.UserClaims&&BLDR.UserClaims.user_uid)BLDR.TrackEvents(d.F.COLOR_PICKER,(x(a={},d.E.Activity,"clicked"),x(a,d.E.Page_Name,"choose template"),x(a,d.E.Cta_Name,"reset"===n.key.toLowerCase()?"default":n.key.toLowerCase()),a),BLDR.UserClaims.user_uid,h.db());o.setState({selectedColorName:n.key})}})),x(B(o),"bindViewPortWatcher",(function(){var e=[],t=o.getAllSkins();if(o.state.isRecommendedTemplatesClicked){if(t&&t.length>0){var n;n=t.filter((function(e){return-1!=o.getRecommendedSkinCD().indexOf(e.skinCD)})),e=o.mapOrderSkins(n,o.getRecommendedSkinCD(),"id")}}else e=t;if(e&&e.length>0){var a=0;return e.map((function(e){if(e.skinColor===o.state.selectedColorName){var t=document.querySelector("div.js-thumbnail-".concat(a));a+=1,O(t,(function(e){if(e&&e.dataset&&e.dataset.skinid&&e.dataset.skinname&&e.dataset.skincolor&&e.dataset.displayposition){var t={builderType:"resumes",screenName:"choose template",displayPosition:e.dataset.displayposition,templateName:e.dataset.skinname,templateId:e.dataset.skinid,templateCategory:o.state.isRecommendedTemplatesClicked?"Recommended":"all",templateColor:"reset"===e.dataset.skincolor.toLowerCase()?"":e.dataset.skincolor.toLowerCase()};Object(S.e)(t)}}))}}))}})),x(B(o),"getRecommendedSkinCD",(function(){var e=[];if(h.X())e.push(d.sb.Advanced,d.sb.Clean,d.sb.Corporate,d.sb.Chicago,d.sb.Windsor,d.sb.Milano);else{var t=h.x(o.props.document,d.v.experienceLevel)||"";switch(BLDR.featureSets.ReorderOnboardingFunnel&&""==t&&(t=BLDR.Localization.zero_Exp_Level),t){case BLDR.Localization.zero_Exp_Level:case BLDR.Localization.zero_To_Three_Exp_Level:e.push(d.sb.Advanced,d.sb.Milano,d.sb.Elegant,d.sb.Chicago,d.sb.Pantheon,d.sb.Corporate);break;case BLDR.Localization.three_To_Five_Exp_Level:case BLDR.Localization.five_To_Ten_Exp_Level:case BLDR.Localization.ten_Plus_Exp_Level:e.push(d.sb.Clean,d.sb.Corporate,d.sb.Chicago,d.sb.Majestic,d.sb.Windsor,d.sb.Advanced)}}return e})),x(B(o),"getAllSkinCD",(function(){var e=[];return BLDR.Skins.forEach((function(t){e.push(t.skinCD)})),e})),x(B(o),"onRecommenededTemplateClick",(function(){var e;!1===o.state.isRecommendedTemplatesClicked&&(BLDR.TrackEvents(d.F.DOCUMENT_EVENTS,(x(e={},d.E.Activity,"clicked"),x(e,d.E.Page_Name,"choose template"),x(e,d.E.Document_Type,"resumes"),x(e,d.E.Cta_Name,"recommended templates"),e),BLDR.UserClaims.user_uid,h.db()),o.setState({isRecommendedTemplatesClicked:!0,isViewAllTemplateClicked:!1},(function(){o.bindViewPortWatcher()})))})),x(B(o),"onViewAllTemplateClick",(function(){var e;!0===o.state.isRecommendedTemplatesClicked&&(BLDR.TrackEvents(d.F.DOCUMENT_EVENTS,(x(e={},d.E.Activity,"clicked"),x(e,d.E.Page_Name,"choose template"),x(e,d.E.Document_Type,"resumes"),x(e,d.E.Cta_Name,"view all templates"),e),BLDR.UserClaims.user_uid,h.db()),o.setState({isRecommendedTemplatesClicked:!1,isViewAllTemplateClicked:!0},(function(){o.bindViewPortWatcher()})))})),x(B(o),"onSelectTemplateClick",(function(e,t){var n;if(!e&&o.isMobilePersonalizedChooseTemplate){var a=document.getElementsByClassName("slick-active")[0].getAttribute("data-index");e=o.state.isRecommendedTemplatesClicked?o.getRecommendedSkinCD()[a]:o.getAllSkinCD()[a]}var i,r=Object(b.b)(d.N.chooseTemplate),s=JSON.parse(JSON.stringify(o.props.document));s=h.yb(s,e);var c="";if(t)i="",c="skip this step";else{c="next",i=d.p.find((function(e){return e.key.toLowerCase()==o.state.selectedColorName.toLowerCase()})).value;var l=document.querySelector("div[data-skinid=".concat(e,"]"));if(l&&l.dataset&&l.dataset.displayposition&&l.dataset.skinid&&l.dataset.skinname){var p={builderType:"resumes",screenName:"choose template",displayPosition:l.dataset.displayposition,templateName:l.dataset.skinname,templateId:l.dataset.skinid,templateCategory:o.state.isRecommendedTemplatesClicked?"Recommended":"all",templateColor:l.dataset.skincolor&&"reset"===l.dataset.skincolor.toLowerCase()?"":l.dataset.skincolor.toLowerCase()};Object(S.d)(p)}}BLDR.TrackEvents(d.F.DOCUMENT_EVENTS,(x(n={},d.E.Activity,"clicked"),x(n,d.E.Page_Name,"choose template"),x(n,d.E.Document_Type,"resumes"),x(n,d.E.Cta_Name,c),n),BLDR.UserClaims.user_uid,h.db());var u=!1,m=(s=h.nb(s,d.yb.SDCL,i,BLDR.getTemplateFromSkin))&&s.id?s.id:null;if(window.BLDR.featureSets.ReorderOnboardingFunnel){var f=JSON.parse(JSON.stringify(h.r(d.ob.documentData)));f||(f={});var C={};C[d.ob.skinCD]=e,C[d.ob.skinColor]=i,f[d.ob.docStyle]=[],f[d.ob.docStyle].push(C),f&&(o.props.documentActions.AddUpdateDocDataInStorage(f),y.CommonHelper.setStorageValue(d.ob.skinCD,e)),m||(u=!0)}BLDR.isCVG&&!o.isTemplateFlow&&"Guest"==BLDR.UserClaims.role&&BLDR.PortalExperiments.expCVGPhoneMasking&&!o.isResumeUploadInline&&"1"!=o.isResumeUploaded&&o.conductPhoneMaskingExperiment(),BLDR.isCVG&&"Guest"==BLDR.UserClaims.role&&BLDR.PortalExperiments.expCVGModifyContact&&h.f(BLDR.PortalExperiments.expCVGModifyContact.id)&&0===h.y(BLDR.PortalExperiments.expCVGModifyContact)?o.conductCVGModifyContact(s,u,r):o.continueAfterExperimentCall(s,u,r)})),o.htmlClassList=document.documentElement.classList,o.user=h.P(),o.skinTrackedINTL={},o.isMobilePersonalizedChooseTemplate=!!window.BLDR.featureSets.mobilePersonalizedChooseTemplate,o.isResumeUploadInline=h.hb(),o.isResumeUploaded=h.x(o.props.document,d.v.resumeUploaded)||"0",o.isSafari=BLDR.IsMobileDevice()?!!navigator.userAgent.match(/Version\/[\d.]+.*Safari/):/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString(),o.docSelectorQueryString="#document, .document",o.state={isRecommendedTemplatesClicked:!0,isViewAllTemplateClicked:!1,selectedColorName:o.getColorForColorSelector()},o}return t=r,(o=[{key:"componentWillUnmount",value:function(){BLDR.featureSets.useRendererForCT&&this.htmlClassList.remove("e-renderer-ct"),BLDR.featureSets.useRendererForCT&&(window.removeEventListener("resize",this.setScalingFactorOnResize),window.removeEventListener("scroll",this.setScalingFactorOnResize))}},{key:"componentDidMount",value:function(){var e,t=this;BLDR.PortalExperiments.expLocalizingLabels&&BLDR.UserClaims.user_uid&&"Guest"==BLDR.UserClaims.role&&this.conductLocalizingLabelsExperiment(),BLDR.PortalExperiments.expPlaceholderTextThroughoutFunnel&&h.W(BLDR.countryDetails.countryCode)&&BLDR.UserClaims.user_uid&&"Guest"==BLDR.UserClaims.role&&this.conductPlaceholderTextThroughoutFunnelExperiment(),BLDR.isRG&&!BLDR.featureSets.locationAutofill&&BLDR.countryDetails&&BLDR.countryDetails.countryCode==d.r.unitedSates&&this.conductLocationAutofillExperiment(),BLDR.isRG&&"Guest"==BLDR.UserClaims.role&&h.f(BLDR.PortalExperiments.expRGNSimplifyContactH1.id)&&BLDR.PortalExperiments.expRGNSimplifyContactH1&&this.conductSimplifyContactH1Experiment(),window.BLDR.featureSets.mobilePersonalizedChooseTemplate&&document.body.classList.contains("exp-mobile-bundle")&&document.body.classList.remove("exp-mobile-bundle"),BLDR.featureSets.useRendererForCT&&this.htmlClassList.add("e-renderer-ct"),BLDR.featureSets.useRendererForCT&&(window.addEventListener("resize",this.setScalingFactorOnResize),window.addEventListener("scroll",this.setScalingFactorOnResize));var o=this.getAllSkins();BLDR.featureSets.useRendererForCT&&(this.isSafari?setTimeout((function(){t.scaleSkinsSVGWidthHeight(o),t.checkScaling(500,o)}),1e3):this.scaleSkinsSVGWidthHeight(o),setTimeout((function(){t.bindViewPortWatcher()}),50)),this.props.saveUserStages(d.Eb.Choose_Template),BLDR.TrackEvents(d.F.DOCUMENT_EVENTS,(x(e={},d.E.Activity,"viewed"),x(e,d.E.Page_Name,"choose template"),x(e,d.E.Document_Type,"resumes"),e),BLDR.UserClaims.user_uid,h.db()),this.bindViewPortWatcher()}},{key:"mapOrderSkins",value:function(e,t,o){return e.sort((function(e,n){var a=e[o],i=n[o];return t.indexOf(a)>t.indexOf(i)?1:-1})),e}},{key:"render",value:function(){var e=this.getHeadingControl();return a.a.createElement(f,{skins:this.getAllSkins(),localization:this.getChooseTemplateLocalization(),headingControl:e,selectedColorName:this.state.selectedColorName,onColorPickerClick:this.onColorPickerClick,recommendedSkinArray:this.getRecommendedSkinCD(),allSkinArray:this.getAllSkinCD(),onRecommenededTemplateClick:this.onRecommenededTemplateClick,isRecommendedTemplatesClicked:this.state.isRecommendedTemplatesClicked,onViewAllTemplateClick:this.onViewAllTemplateClick,isViewAllTemplateClicked:this.state.isViewAllTemplateClicked,onSelectTemplateClick:this.onSelectTemplateClick,fsPersonalizedChooseTemplate:!!window.BLDR.featureSets.personalizedChooseTemplate,useRendererForCT:BLDR.featureSets.useRendererForCT,scaleSkinsSVGWidthHeight:this.scaleSkinsSVGWidthHeight,isMobilePersonalizedChooseTemplate:this.isMobilePersonalizedChooseTemplate})}}])&&E(t.prototype,o),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component);function U(e){return{document:e.Document,common:e.Common,user:JSON.parse(JSON.stringify(BLDR.UserClaims))}}function A(e){return{documentActions:Object(r.b)(v,e),commonActions:Object(r.b)(g,e),userActions:Object(r.b)(D,e)}}t.default=Object(i.b)(U,A)(N)},1163:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return F}));var n=o(0),a=o.n(n),i=o(812),r=o.n(i),s=o(226),c=o(1),l=o(4),p=o(722),u=o(8),d=o(63),m=o.n(d),f=o(87),C=o(225),h=o(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){D(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function D(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function b(e){var t,o,n,i,d,y,g=!((!e.isFunnelImprvmnts&&!window.BLDR.featureSets.geniusMobileNormalize||e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Community_Service)&&e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Volunteer),D=f.k;(e.isFunnelImprvmnts||window.BLDR.featureSets.geniusMobileNormalize)&&((null===(d=e.state)||void 0===d||null===(d=d.section)||void 0===d?void 0:d.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Volunteer&&(D=f.w),(null===(y=e.state)||void 0===y||null===(y=y.section)||void 0===y?void 0:y.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Community_Service&&(D=f.g));var b=e.state.section&&e.state.section&&e.state.section.paragraphs&&(0==e.state.section.paragraphs.length||1==e.state.section.paragraphs.length&&e.isAddMode),S="button-add-container";S+=b?" button-add-container-empty":" button-dotted";var L=b?(null===(t=e.state)||void 0===t||null===(t=t.section)||void 0===t?void 0:t.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Volunteer||(null===(o=e.state)||void 0===o||null===(o=o.section)||void 0===o?void 0:o.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Community_Service?D.add_Volunteer_Button_Text:BLDR.Localization.add_Work_Experience_Button_Text:BLDR.Localization.updated_Add_Company_Button_Text,T=(e.isFunnelImprvmnts,e.screenName===c.H.position||e.screenName===c.H.company||e.screenName===c.H.overview&&l.ab()),E=T||e.isFunnelImprvmnts&&l.ab()?BLDR.Localization.save_Button_Text:BLDR.Localization.continue_Button_text,P=e.screenName==c.H.experienceExists?"builder-form-layout-content-section radio-buttons-align-center":void 0,R=e.screenName==c.H.overview,w=a.a.createElement(u.O,null),B=c.Q;if(e.isFunnelImprvmnts||window.BLDR.featureSets.geniusMobileNormalize)switch(e.screenName){case c.H.experienceExists:B=c.W;break;case c.H.details:case c.H.company:case c.H.position:e.screenName==c.H.company&&e.isEditMode&&h.CommonHelper.isNullOrWhitespace(BLDR.getQueryString("add_experience_type"))||(B=c.V)}else switch(e.screenName){case c.H.experienceExists:B=c.W;break;case c.H.details:B=c.V}var _=e.screenName==c.H.responsibilities?" ttceditor-btnwrap ":"";if(D.addPositionBtnText=BLDR.Localization.updated_Add_Position_Button_Text,e.enableJobTitleAutoSuggest){D.EXAMPLE_EDITOR_LOCALIZATION.searchFieldSearchResultHtml=BLDR.Localization.ttc_Example_Titles_Related_To_Html,D.EXAMPLE_EDITOR_LOCALIZATION.searchFieldPlaceholder=BLDR.Localization.no_searchtitle;var x=BLDR.Definition_Tips.find((function(e){return e.sectionTypeCd==h.TypeCodes.sectionTypeCd.Experience}));x&&(x.defaultText=BLDR.Localization.defaultText_New)}e.isFs_PreviewAndTips&&(D.EXAMPLE_EDITOR_LOCALIZATION.ttc_control_heading=BLDR.Localization.skills_ttc_control_heading),(null===(n=e.state)||void 0===n||null===(n=n.section)||void 0===n?void 0:n.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience&&(D=l.Bb(D,"experience"));var k,O={isOpen:!0,btnPrimaryLabel:D.experinceConfirmationPopupBtnPrimaryLabel,btnPrimaryId:"btn".concat(D.experinceConfirmationPopupBtnPrimaryLabel),btnSecondaryLabel:D.experinceConfirmationPopupBtnSecondaryLabel,continueToEducButtonId:"btn".concat(D.experinceConfirmationPopupBtnSecondaryLabel),onPrimaryClick:e.onClosePopupClick,onSecondaryClick:e.onPopupNextClick,closeModal:e.onClosePopupClick,shouldCloseOnOverlayClick:!0,hasHeader:!1,cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary",modalDialog:"modal-delete-paragraph experience-confirmation-modal"}};return g&&(O={isOpen:e.state.showPopup,btnPrimaryLabel:D.delEntryBtnSecondaryLabel,btnSecondaryLabel:D.delEntryBtnPrimaryLabel,btnPrimaryId:"btnExpDeleteSection",continueToEducButtonId:"btnExpSectionCancel",onPrimaryClick:e.closeDeleteSectionPopup,onSecondaryClick:e.deleteSectionPopupConfirm,shouldCloseOnOverlayClick:!0,closeModal:e.closeDeleteSectionPopup,hasHeader:!1,cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary button-delete",modalDialog:"modal-delete-paragraph"}}),a.a.createElement(s.a,{showDeleteButton:g&&!b&&R,onDeleteButtonClick:e.onDeleteSectionClick,headingText:e.pageHeadingSubHeading.pageHeading,subHeadingText:e.pageHeadingSubHeading.pageSubHeading,hidePanelBanner:!!e.isFunnelImprvmnts&&(!(!e.state.section||e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Community_Service&&e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Volunteer||e.screenName==c.H.overview)||!(e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Experience||e.screenName!=c.H.company||!e.companyId)),panelBannerProps:B,contentSectionClass:P,useUpdatedUI:!0,pageNameClass:"experience-".concat(e.screenName),isFs_PreviewAndTips:e.isFs_PreviewAndTips,document:e.state.document,currentSectionCD:null===(i=e.state)||void 0===i||null===(i=i.section)||void 0===i?void 0:i.sectionTypeCD,saveResume:function(){e.saveResume(e.screenName)}},e.screenName==c.H.experienceExists?a.a.createElement(p.a,{options:c.hb.options,onNextClick:e.onExperienceAddOptionSelected,selectedOption:e.haveExperienceSelectedOption,useUpdatedUI:!0}):a.a.createElement(a.a.Fragment,null,a.a.createElement(r.a,{ref:function(t){return e.assignRef("experienceSection",t)},onParaSort:e.onParaSort,isSortable:!0,DebounceTime:window.BLDR.DebounceTime,portalCd:BLDR.PortalSettings.ConfigurePortalCd,cultureCD:BLDR.cultureCD,PortalId:BLDR.PortalSettings.ConfigurePortal,Section:e.state.section,paragraphId:e.state.paragraph.id,UserUID:e.user.UserUID,documentId:e.state.document.id,ApiUrl:BLDR.Paths.BaseApiUrl,countryCode:BLDR.countryDetails.countryCode,productCd:BLDR.PortalSettings.ConfigureProductCd,TTCCulture:BLDR.isCVG?"en-US":BLDR.isGFR?"fr-FR":null,showNonDescriptionExperience:!0,showJobTitleWithNotFoundMsg:!0,noJobTitleFoundMsgInHead:!0,hightLightSearchKeyword:!0,exactSearch:!0,showAllFieldsEmptyError:!0,validateAllFields:!0,hideEmployerLocation:!0,usePassedParagraphId:!0,showFreeForm:!0,Localization:D,isCollapsed:R,showExpanded:e.isEditMode,isAddMode:e.isAddMode,UpdateExperienceParent:e.onComponentChange,deletePopupConfirm:e.deleteParagraph,CurrentStep:e.screenName,autoSuggestCustomTheme:v(v({},c.m),{},{container:"autosuggest-container Select"}),countryList:e.countryList,stateList:e.state.stateList,getYearList:l.R,getMonthOptions:l.D,companyId:e.companyId,addAnotherParagraph:e.addAnotherPosition,deleteModalIcon:w,loadParagraph:e.editPositionOrCompany,enableJobTitleAutoSuggest:e.enableJobTitleAutoSuggest,graySuggestionForAutosuggest:e.graySuggestionForAutosuggest,defaultJobtitleSearch:e.enableJobTitleAutoSuggest?window.BLDR.defaultJobtitleForSearch:"",isContentAPITracking:!0,noOfAutoAddTTCItems:e.noOfAutoAddTTCItems,trackingPlacement:e.trackingPlacement,trackAllTTCEvents:!g&&e.trackAllTTCEvents,Definition_Tips:BLDR.Definition_Tips,showTTCExamples:!0,isMobile:BLDR.IsMobileDevice(),showExampleContentView:!1,isEditMode:e.isEditMode,displayFormatingOption:!0,showSpellCheckPosition:!0,hideBulletingOption:!1,displayUndoRedo:!0,isHideSpellCheck:BLDR.IsMobileDevice()||BLDR.isInternetExplorer(),handleCursorOnPaste:!0,isCheckForBlueText:!0,isSpellCheckActive:!BLDR.isInternetExplorer()&&!BLDR.IsMobileDevice(),useBrowserNativeSpellCheck:BLDR.isInternetExplorer(),isSpellCheckPositionDynamic:!0,useUpdatedUI:!0,enableFuzzyLogic:e.enableJobTitleAutoSuggest,isPlaceholderExp:e.isPlaceholderExp,isFirstFocus:e.isFunnelImprvmnts,paraInitialize:e.paraInitialize,hideCountryCD:e.hideCountryCD,ttcHighlightColor:BLDR.isRC?"#128ee7":"#287363",isPreviewAndTipsExp:!0,useRMCCalendar:e.useRMCCalendar,setLimitForCalender:e.setLimitForCalender,txtOnFocus:e.txtOnFocus,txtOnBlur:e.txtOnBlur,TrackEventsData:!g&&e.trackEventsData,triggerTrackEvent:l.Lb,fireRemoveAndModifiedEvent:!g,getTTCFromSection:!g&&e.getTTCFromSection,storeTTCForSection:!g&&e.storeTTCForSection,useNewCodeToAddTTC:!g&&!0,showGPTContent:BLDR.showGPTContent,isFunnelImprvmnts:e.isFunnelImprvmnts,isMobileNormalize:window.BLDR.featureSets.geniusMobileNormalize,sectionTypeCD:g?h.TypeCodes.sectionTypeCd.Experience:e.state.section.sectionTypeCD}),R&&a.a.createElement("div",{className:S,onClick:e.addAnotherCompany},a.a.createElement("button",{className:"add-field help-text"},a.a.createElement("span",{className:"add-icon"},a.a.createElement(u.M,null))," ",L)),BLDR.IsMobileDevice()?a.a.createElement(C.a,(k={backBtnText:BLDR.Localization.back,onBackClick:e.onBackClick,nextBtnText:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!!l.ab()},T&&l.ab()&&(k.backBtnText=BLDR.Localization.cancel_Button_Text,k.onBackClick=e.onCancelClick),e.screenName!=c.H.experienceExists&&(k.onNextClick=e.onContinueClick,k.nextBtnText=E),v({},k))):a.a.createElement("div",{className:"builder-form-layout-button-section back-button-layout"+_},T&&l.ab()&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onCancelClick},BLDR.Localization.cancel_Button_Text),e.isFunnelImprvmnts&&l.ab()&&e.screenName==c.H.responsibilities&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),e.screenName!=c.H.experienceExists&&a.a.createElement(a.a.Fragment,null,!l.ab()&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),a.a.createElement("button",{className:"button button-primary",type:"button",onClick:e.onContinueClick},E))),e.showPopup&&a.a.createElement(m.a,O,g?a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"modal-icon"},a.a.createElement(u.O,null)),a.a.createElement("div",{className:"modal-body-content",dangerouslySetInnerHTML:{__html:D.delSectionPopupBody}})):a.a.createElement("div",{className:"modal-body experience-confirmation"},a.a.createElement("div",{className:"modal-header",onClick:e.onClosePopupClick},a.a.createElement(u.s,null)),a.a.createElement("div",{className:"modal-icon"}),a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("div",null,a.a.createElement("div",{className:"modal-title"},D.experinceConfirmationPopupHeadingText),a.a.createElement("div",{className:"model-body-text"},D.experinceConfirmationPopupBodyText)))))))}var S=o(42),L=o(10),T=o(43),E=o(56);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?R(Object(o),!0).forEach((function(t){U(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function B(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=N(e);if(t){var a=N(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return k(this,o)}}function k(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,o){return(t=A(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function A(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(r,e);var t,o,n,i=x(r);function r(e,t){var o,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),U(O(n=i.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(n.refsObj[e]=t)})),U(O(n),"popStateListener",(function(){n.setState({document:n.props.document,section:n.props.section,paragraph:n.props.paragraph})})),U(O(n),"addAnotherPosition",(function(e){if(e){var t;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&n.fireEvent("work history overview","add position","clicked","resumes");var o="".concat(T.c(null===(t=n.props)||void 0===t||null===(t=t.section)||void 0===t?void 0:t.sectionTypeCD),"?add_experience_type=").concat(c.H.position,"&companyid=").concat(e,"&hidesidebar=").concat(!n.isFunnelImprvmnts);n.props.history.push(o)}})),U(O(n),"addAnotherCompany",(function(){var e,t="work history overview",o="add company";n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?(t="additional sections community service",o="add community service"):n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(t="additional section volunteer experience",o="add volunteer experience"),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&n.fireEvent(t,o,"clicked","resumes");var a="".concat(T.c(null===(e=n.props)||void 0===e||null===(e=e.section)||void 0===e?void 0:e.sectionTypeCD),"?add_experience_type=").concat(c.H.company,"&hidesidebar=").concat(!n.isFunnelImprvmnts);n.props.history.push(a)})),U(O(n),"deleteParagraph",(function(e,t){var o=JSON.parse(JSON.stringify(n.state.document)),a=h.DocumentHelper.removeParagraph(o,e,t),i=l.K();a=h.DocumentHelper.deleteEmptyParagrah(a,i);var r=h.DocumentHelper.getSectionById(a,e);T.k(r,n.props.document.id);var s=n.state.paragraph;(n.setState({document:a,section:r,paragraph:s}),n.liveResumePreview)&&(0,n.context.setDocument)(l.n(a));n.props.documentActions.UpdateDocument(n.user.UserUID,a),n.saveLatestJobTitlePreference(a)})),U(O(n),"getStateListFromCountry",(function(e){if(e&&e.docDatas){var t=h.CommonHelper.getCharValue(e.docDatas,h.TypeCodes.fieldCd.JobCountry),o=l.t(t);n.getStateList(o)}})),U(O(n),"getStateList",(function(e){if(h.CommonHelper.isNullOrWhitespace(e)||e!=c.r.canada&&e!=c.r.unitedSates)n.state.stateList.length>0&&n.setState({stateList:[]});else if(BLDR.States&&BLDR.States[e]){var t=l.s(h.TypeCodes.fieldCd.JobState,BLDR.States[e]);n.setState({stateList:t})}else n.props.commonActions.GetStateList(e).then((function(e){if(e&&e.length>0){var t=l.s(h.TypeCodes.fieldCd.JobState,e);n.setState({stateList:t})}else n.state.stateList.length>0&&n.setState({stateList:[]})}))})),U(O(n),"updateDocumentState",(function(e,t,o){var a=JSON.parse(JSON.stringify(n.state.document)),i=a.sections.findIndex((function(t){return t.id==e.id}));if(a.sections[i]=e,o){var r=l.K();a=h.DocumentHelper.deleteEmptyParagrah(a,r),l.zb(a,h.TypeCodes.sectionTypeCd.Experience),a=l.Hb(w({},a)),n.props.documentActions.UpdateDocument(n.user.UserUID,a),n.saveLatestJobTitlePreference(a),n.setState({document:a,section:e,paragraph:t},(function(){n.liveResumePreview&&(0,n.context.setDocument)(l.n(a))}))}return a})),U(O(n),"saveLatestJobTitlePreference",(function(e){var t="";if(e&&e.sections){var o=h.CommonHelper.getSectionByCD(e.sections,h.TypeCodes.sectionTypeCd.Experience);null!=o&&null!=o.paragraphs&&o.paragraphs.length>0&&o.paragraphs[0].docDatas&&o.paragraphs[0].docDatas.length>0&&(t=h.CommonHelper.getCharValue(o.paragraphs[0].docDatas,h.TypeCodes.fieldCd.JobTitle))}h.CommonHelper.isNullOrWhitespace(t)||n.props.userActions.SaveUserPreference(n.user.UserUID,c.h.PreferenceJobtitle,t,BLDR.PortalSettings.ConfigurePortalCd)})),U(O(n),"editPositionOrCompany",(function(e,t){var o="";if(t){var a;o="".concat(T.c(null===(a=n.props)||void 0===a||null===(a=a.section)||void 0===a?void 0:a.sectionTypeCD),"?companyid=").concat(t,"&paraid=").concat(e,"&hidesidebar=").concat(!n.isFunnelImprvmnts)}else{var i,r=BLDR.getQueryString("add_experience_type"),s=!n.isFunnelImprvmnts;o="".concat(T.c(null===(i=n.props)||void 0===i||null===(i=i.section)||void 0===i?void 0:i.sectionTypeCD),"?").concat(n.isFunnelImprvmnts&&r?"add_experience_type="+r+"&":"","paraid=").concat(e,"&hidesidebar=").concat(s)}n.props.history.push(o)})),U(O(n),"onComponentChange",(function(e){var t=n.refsObj.experienceSection.getUpdatedSection(),o=n.updateDocumentState(t.Section,t.paragraph,!1);if(n.state.document=o,n.state.section=t.Section,n.state.paragraph=t.paragraph,e&&e.fieldCds&&e.fieldCds.length>0){e.fieldCds[0].fieldCd==h.TypeCodes.fieldCd.JobCountry&&n.getStateList(e.fieldCds[0].value);var a=h.TypeCodes.fieldCd;if([a.JobTitle,a.Company,a.JobCountry,a.JobState,a.JobCity,a.JobStartDate,a.JobEndDate,a.JobDescription].includes(e.fieldCds[0].fieldCd))(0,n.context.setDocument)(l.n(o))}})),U(O(n),"onExperienceAddOptionSelected",(function(e){var t,o="";e&&e.toLowerCase()==c.ab.yes?o="yes add work experience":e&&e.toLowerCase()==c.ab.no&&(o="no do not add work experience"),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&o&&n.fireEvent("add work experience",o,"clicked","resumes"),n.addHaveExperiencePreferences(e);var a,i=T.f(n.props.document,null===(t=n.props.section)||void 0===t?void 0:t.sectionTypeCD,e);n.props.isCalledFromFinalize&&(i=e===c.ab.no?L.c[c.N.finalize]:T.c(null===(a=n.props)||void 0===a||null===(a=a.section)||void 0===a?void 0:a.sectionTypeCD));n.props.history.push(i)})),U(O(n),"addHaveExperiencePreferences",(function(e){var t=JSON.parse(JSON.stringify(n.state.document)),o=c.v.experiencePresent,a=c.ab.no;t.preferences&&(t.preferences.find((function(e){return e.docPreferenceTypeCD==o}))||h.CommonHelper.addDocumentPreference(t,o,a));if(e&&e.toLowerCase()==c.ab.yes){t=T.l(t,e);var i=l.K();t=h.DocumentHelper.deleteEmptyParagrah(t,i)}else if(e&&e.toLowerCase()==c.ab.no){var r=l.K();t=h.DocumentHelper.deleteEmptyParagrah(t,r),t=T.l(t,e)}n.props.documentActions.UpdateDocument(n.user.UserUID,t)})),U(O(n),"checkAndSaveHaveExperiencePrefrences",(function(){var e=JSON.parse(JSON.stringify(n.state.document));if(e&&e.sections){var t=T.d(e),o=c.ab.no,a=h.CommonHelper.getSectionByCD(e.sections,h.TypeCodes.sectionTypeCd.Experience);if(null!=a&&null!=a.paragraphs&&a.paragraphs.length>0)h.DocumentHelper.isParagraphEmpty(a.paragraphs[0])||(o=c.ab.yes);t!=o&&n.addHaveExperiencePreferences(o)}})),U(O(n),"onBackClick",(function(){var e,t="";switch(T.h()){case c.H.details:t="work history";break;case c.H.responsibilities:t="work history details editor";break;case c.H.overview:t="work history overview",n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?t="additional sections community service":n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(t="additional section volunteer experience")}BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t&&n.fireEvent(t,"back","clicked","resumes"),n.noExperienceOverviewUserStage=0,n.noExperience_DescriptionUserStage=0;var o=n.refsObj.experienceSection.getUpdatedSection(!0);(o&&o.Section&&o.paragraph&&n.updateTTCConsumed(o.Section,o.paragraph),n.setState({document:n.props.document,section:n.props.section,paragraph:n.props.paragraph}),n.liveResumePreview)&&(0,n.context.setDocument)(l.n(n.props.document));var a=T.b(n.props.document,null===(e=n.props.section)||void 0===e?void 0:e.sectionTypeCD);n.props.history.push(a)})),U(O(n),"onCancelClick",(function(){var e,t="";n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?t="additional sections community service":n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(t="additional section volunteer experience"),t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&n.fireEvent(t,"cancel","clicked","resumes"),n.setState({document:n.props.document,section:n.props.section,paragraph:n.props.paragraph}),n.isFs_PreviewAndTips&&n.context.setDocument(l.n(n.props.document));var o=T.f(n.props.document,null===(e=n.props.section)||void 0===e?void 0:e.sectionTypeCD);n.props.history.push(o)})),U(O(n),"updateTTCConsumed",(function(e,t){if(n.refsObj&&n.refsObj.experienceSection&&n.refsObj.experienceSection.refs&&n.refsObj.experienceSection.refs.freeForm&&n.refsObj.experienceSection.refs.freeForm.getFreeFormEditorContentArray){var o=n.refsObj.experienceSection.refs.freeForm.getFreeFormEditorContentArray();if(o&&o.length>0){var a={docId:n.state.document.id,sectionName:h.TypeCodes.sectionTypeCd.Experience,searchedText:n.searchedText,companyName:h.CommonHelper.getCharValue(t.docDatas,h.TypeCodes.fieldCd.Company)||"",resumeSection:"work history",productCD:window.BLDR.PortalSettings.ConfigureProductCd,cultureCD:window.BLDR.cultureCD,jobExpInMonths:T.j(t)};S.a(o,a);var i=o.filter((function(e){return 1!=e.isRemoved&&1!=e.isModified&&1!=e.isBlueModified}));e=n.storeTTCForSection(e,t,i)}}})),U(O(n),"getTTCFromSection",(function(e,t){var o=[];return e&&e.ttcContentArray&&e.ttcContentArray[t]&&(o=e.ttcContentArray[t]),o})),U(O(n),"onContinueClick",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.noExperienceOverviewUserStage=0,n.noExperience_DescriptionUserStage=0,"boolean"!=typeof t&&(t=!1);var o=T.h(),a=T.f(n.props.document,null===(e=n.props.section)||void 0===e?void 0:e.sectionTypeCD),i="work history overview";if(n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?i="additional sections community service":n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(i="additional section volunteer experience"),o===c.H.overview){1!=t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&n.fireEvent(i,"next","clicked","resumes"),n.checkAndSaveHaveExperiencePrefrences();var r=JSON.parse(JSON.stringify(n.state.document)),s=l.K();r=h.DocumentHelper.deleteEmptyParagrah(r,s),r=l.Hb(w({},r)),n.props.documentActions.UpdateDocument(n.user.UserUID,r),n.navigateToPage(a,t)}else{var p=n.refsObj.experienceSection.getUpdatedSection(!0);if(p&&p.enableSorting&&(p.Section.paragraphs=T.a(p.Section.paragraphs)),p.isValid){var u,d,m,f,C;if(n.updateTTCConsumed(p.Section,p.paragraph),T.k(p.Section,n.props.document.id),n.updateDocumentState(p.Section,p.paragraph,!0),n.refsObj&&n.refsObj.experienceSection&&n.refsObj.experienceSection.refs&&n.refsObj.experienceSection.refs.freeForm&&n.refsObj.experienceSection.refs.freeForm.getEventDetails){var y=n.refsObj.experienceSection.refs.freeForm.getEventDetailsArray();y&&y.length>0&&n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&n.trackAllTTCEvents(y)}var g=[c.H.details,c.H.responsibilities],v=!g.includes(o)&&n.props.isAddMode;if((n.isFunnelImprvmnts||window.BLDR.featureSets.geniusMobileNormalize)&&(o===c.H.company&&n.props.isAddMode||o===c.H.position)){var D,b=T.c(null===(D=n.props)||void 0===D||null===(D=D.section)||void 0===D?void 0:D.sectionTypeCD),S=n.state.paragraph.id,L=S?"paraid=".concat(S,"&"):"";L+="frm=".concat(o),a="".concat(b,"?").concat(L,"&fields=").concat(c.G.responsibilities)}n.navigateToPage(a,t,v);var E=h.CommonHelper.getCharValue(null==p||null===(u=p.paragraph)||void 0===u?void 0:u.docDatas,h.TypeCodes.fieldCd.JobDescription);(null===(d=n.props)||void 0===d||null===(d=d.section)||void 0===d?void 0:d.sectionTypeCD)!=h.TypeCodes.sectionTypeCd.Experience||o!=c.H.details&&(!n.isFunnelImprvmnts&&!window.BLDR.featureSets.geniusMobileNormalize||!h.CommonHelper.isNullOrWhitespace(E)||o!=c.H.position&&o!=c.H.company)?n.noOfAutoAddTTCItems=0:n.noOfAutoAddTTCItems=3,(null===(m=n.props)||void 0===m||null===(m=m.section)||void 0===m?void 0:m.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience?(o==c.H.details&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&1!=t&&n.fireEvent("work history","continue","clicked","resumes"),o==c.H.responsibilities&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&1!=t&&n.fireEvent("work history details","next","clicked","resumes")):(null===(f=n.props)||void 0===f||null===(f=f.section)||void 0===f?void 0:f.sectionTypeCD)!=h.TypeCodes.sectionTypeCd.Volunteer&&(null===(C=n.props)||void 0===C||null===(C=C.section)||void 0===C?void 0:C.sectionTypeCD)!=h.TypeCodes.sectionTypeCd.Community_Service||BLDR.UserClaims&&BLDR.UserClaims.user_uid&&n.fireEvent(i,"save","clicked","resumes")}else if(o==c.H.company)if(!p.isValid&&n.refsObj&&n.refsObj.experienceSection&&n.refsObj.experienceSection.areAllFieldsBlank())n.navigateToPage(a,t);else{var P=BLDR.getQueryString("companyid");if(P){var R=h.DocumentHelper.getParagraphsByIdFromSection(p.Section,n.state.paragraph.id);if(R&&R.docDatas&&R.docDatas.length>0){var B=h.CommonHelper.getCharValue(R.docDatas,h.TypeCodes.fieldCd.Company);h.CommonHelper.isNullOrWhitespace(B)||(n.updateDocumentState(p.Section,p.paragraph,!0),n.navigateToPage(a,t))}}}else if(o==c.H.position){var _=h.DocumentHelper.getParagraphsByIdFromSection(p.Section,n.state.paragraph.id);if(_&&_.docDatas&&_.docDatas.length>0){var x=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.Company),k=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.JobTitle),O=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.JobStartDate),N=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.JobEndDate);if(h.CommonHelper.isNullOrWhitespace(x)&&!h.CommonHelper.isNullOrWhitespace(k))if(h.CommonHelper.isNullOrWhitespace(O)&&h.CommonHelper.isNullOrWhitespace(N))n.updateDocumentState(p.Section,p.paragraph,!0),n.navigateToPage(a,t);else{var U=O.split(" "),A=N.split(" "),F=new Date(Date.parse(U[0]+" 1, "+U[1])),I=new Date(Date.parse(A[0]+" 1, "+A[1]));F<=new Date&&(N==BLDR.Localization.currentWork_Text||I<=new Date&&F<=I)&&(n.updateDocumentState(p.Section,p.paragraph,!0),n.navigateToPage(a,t))}}}else if(o==c.H.details&&(n.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&n.fireEvent("work history","continue","clicked","resumes"),!p.isValid&&p.Section&&p.Section.paragraphs&&1==p.Section.paragraphs.length&&n.refsObj&&n.refsObj.experienceSection&&n.refsObj.experienceSection.areAllFieldsBlank())){var H=h.DocumentHelper.isParagraphEmpty(p.Section.paragraphs[0]);H&&n.setState({showPopup:!0,saveResumeClicked:t})}}})),U(O(n),"onClosePopupClick",(function(){n.setState({showPopup:!1,saveResumeClicked:!1})})),U(O(n),"onPopupNextClick",(function(){var e,t=l.gb()?c.ab.yes:c.ab.no;n.addHaveExperiencePreferences(t);var o=n.state.saveResumeClicked;n.setState({showPopup:!1,saveResumeClicked:!1});var a=T.f(n.props.document,null===(e=n.props.section)||void 0===e?void 0:e.sectionTypeCD,null,!0);n.navigateToPage(a,o)})),U(O(n),"fireEvent",(function(e,t,o,n){var a={};o&&(a[c.E.Activity]=o),e&&(a[c.E.Page_Name]=e),n&&(a[c.E.Document_Type]=n),t&&(a[c.E.Cta_Name]=t),BLDR.TrackEvents(c.F.DOCUMENT_EVENTS,a,BLDR.UserClaims.user_uid,l.db())})),U(O(n),"onSaveResumeClick",(function(e){S.b(),e===c.H.experienceExists?n.redirectToLoginWithoutValidations(!0):n.onContinueClick(!0)})),U(O(n),"trackAllTTCEvents",(function(e){if(e&&e.length>0){var t=h.DocumentHelper.trackTTCEvents(n.user.UserUID,BLDR.PortalSettings.ConfigurePortalCd,e);n.props.documentActions.trackTTCEvents(t)}})),U(O(n),"onParaSort",(function(e){var t=JSON.parse(JSON.stringify(n.state.document.sections)),o=t.findIndex((function(t){return t.id==e.id}));t[o]=e;var a=JSON.parse(JSON.stringify(n.state.document));a.sections=t,e&&e.paragraphs&&e.paragraphs.length>0&&a&&(n.setState({section:e,document:a}),n.liveResumePreview&&n.updateDocumentContext(n.state.document),n.props.documentActions.UpdateDocument(n.user.UserUID,a))})),U(O(n),"trackEventsData",(function(e,t,o,a){switch(e){case"automatic content":var i={activity:t,"resume section":"work history",resumeid:n.state.document.id},r="",s="";n.state.paragraph&&n.state.paragraph.docDatas&&(r=h.CommonHelper.getCharValue(n.state.paragraph.docDatas,h.TypeCodes.fieldCd.JobTitle)||"",s=h.CommonHelper.getCharValue(n.state.paragraph.docDatas,h.TypeCodes.fieldCd.Company)||""),a["resume job title"]=r.toLowerCase(),delete a["click option"],(i=w(w({},i),a))["brand name"]=window.BLDR.PortalSettings.ConfigureProductCd,i["user language"]=BLDR.isCVG?"en-US":window.BLDR.cultureCD,i.language=BLDR.isCVG?"en-US":window.BLDR.cultureCD,i["work experience"]=T.j(n.state.paragraph),"search"==t?(i["user input"]=o.toLowerCase(),n.searchedText=o.toLowerCase(),n.searchedText&&BLDR.TrackEvents(e,i,n.user.UserUID,n.isLoggedIn)):(i["content value"]=o,i.company=s,BLDR.TrackEvents(e,i,n.user.UserUID,n.isLoggedIn))}})),U(O(n),"onDeleteSectionClick",(function(e){e&&(e.preventDefault(),e.stopPropagation()),n.setState({showPopup:!0})})),U(O(n),"deleteSection",(function(){var e=JSON.parse(JSON.stringify(n.state.document));if(!h.DocumentHelper.isEmptyParagraphExists(n.state.section)&&n.state.section.paragraphs.length>0){var t=h.DocumentHelper.removeSection(e,n.state.section.id);if(n.isFs_PreviewAndTips)(0,n.context.setDocument)(l.n(t));n.props.documentActions.UpdateDocument(n.user.UserUID,t)}})),U(O(n),"deleteSectionPopupConfirm",(function(){n.deleteSection(),n.closeDeleteSectionPopup(),n.onCancelClick()})),U(O(n),"closeDeleteSectionPopup",(function(){n.setState({showPopup:!1})})),n.refsObj={},n.liveResumePreview=BLDR.showLiveResumePreview,n.isFs_PreviewAndTips=window.BLDR.featureSets.resumePreviewAndTips,n.user=l.P(),n.state={document:e.document,section:e.section,paragraph:e.paragraph?e.paragraph:{},stateList:[],showPopup:!1,saveResumeClicked:!1},n.noOfAutoAddTTCItems=c.H.responsibilities==T.h()&&(null===(o=n.props)||void 0===o||null===(o=o.section)||void 0===o?void 0:o.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience?3:0,window.BLDR.featureSets.geniusMobileNormalize&&n.noOfAutoAddTTCItems>0&&e.paragraph){var a,s=h.CommonHelper.getCharValue(null===(a=e.paragraph)||void 0===a?void 0:a.docDatas,h.TypeCodes.fieldCd.JobDescription);h.CommonHelper.isNullOrWhitespace(s)||(n.noOfAutoAddTTCItems=0)}return n.noExperienceOverviewUserStage=0,n.noExperience_DescriptionUserStage=0,n.noViewedEventFiredForOverview=0,n.noViewedEventFiredForResponsibility=0,n.isLoggedIn=!(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role),n.searchedText="",n.isFunnelImprvmnts=window.BLDR.featureSets.isFunnelImprovements,n.isGeniusMobileNormalize=window.BLDR.featureSets.geniusMobileNormalize,n.isCountrySpecificPlaceholder=window.BLDR.featureSets.countrySpecificPlaceHolders,n}return t=r,n=[{key:"getDerivedStateFromProps",value:function(e,t){if(T.h()==c.H.responsibilities){var o=document.getElementsByClassName("builder-panel-content");o.length>0&&(o[0].scrollTop=0)}return e.paragraph&&t.paragraph.id!=e.paragraph.id?{document:e.document,paragraph:e.paragraph,section:e.section}:null}}],(o=[{key:"componentDidMount",value:function(){window.addEventListener("popstate",this.popStateListener),window.document.body.classList.add("ttc-editor"),this.getStateListFromCountry(this.state.paragraph);var e=T.h();if(this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service||this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer){var t=this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience";t&&e===c.H.overview&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&this.fireEvent(t,"","viewed","resumes")}else{var o="";switch(e){case c.H.experienceExists:o="add work experience";break;case c.H.details:o="work history"}o&&this.fireEvent(o,"","viewed","resumes"),e!=c.H.overview&&e!=c.H.responsibilities&&this.props.saveUserStages(c.Eb.Work_History),e===c.H.overview&&this.noExperienceOverviewUserStage<1&&(this.props.saveUserStages(c.Eb.Experience_Overview),this.noExperienceOverviewUserStage=this.noExperienceOverviewUserStage+1),BLDR.preload("".concat(window.BLDR.imagePath,"/images/Illustration.png"))}}},{key:"componentWillUnmount",value:function(){window.document.body.classList.remove("ttc-editor"),window.removeEventListener("popstate",this.popStateListener)}},{key:"componentDidUpdate",value:function(e){var t=T.d(e.document),o=T.d(this.props.document),n=l.Y(this.state.document,this.props.document);this.props.paragraph&&this.state.paragraph&&(this.props.paragraph.id!=this.state.paragraph.id||t!=o)||n?(n||this.getStateListFromCountry(this.props.paragraph),this.setState({document:this.props.document,section:this.props.section,paragraph:this.props.paragraph})):this.props.paragraph&&this.state.paragraph&&e.paragraph&&e.paragraph.id!=this.props.paragraph.id&&this.getStateListFromCountry(this.props.paragraph);var a=T.h();this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&a===c.H.overview&&(this.noExperienceOverviewUserStage<1&&(this.props.saveUserStages(c.Eb.Experience_Overview),this.noExperienceOverviewUserStage=this.noExperienceOverviewUserStage+1),this.noViewedEventFiredForOverview<1&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&(this.fireEvent("work history overview","","viewed","resumes"),this.noViewedEventFiredForOverview=this.noViewedEventFiredForOverview+1)),this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&a===c.H.responsibilities&&(this.noExperience_DescriptionUserStage<1&&(this.props.saveUserStages(c.Eb.Experience_Description),this.noExperience_DescriptionUserStage=this.noExperience_DescriptionUserStage+1),this.noViewedEventFiredForResponsibility<1&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&(this.fireEvent("work history details","","viewed","resumes"),this.noViewedEventFiredForResponsibility=this.noViewedEventFiredForResponsibility+1))}},{key:"storeTTCForSection",value:function(e,t,o){return e&&t&&t.id&&(e.ttcContentArray||(e.ttcContentArray={}),e.ttcContentArray[t.id]=o),e}},{key:"navigateToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=l.E(e,t,this.props.location,o);t&&document.body.classList.remove("fs-live-previewV2"),this.props.history.push(n)}},{key:"redirectToLoginWithoutValidations",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=c.v.experiencePresent,n=c.ab.no,a=this.props.document.preferences.find((function(e){return e.docPreferenceTypeCD==o}));a&&a.value===c.ab.yes&&(n=a.value);var i=T.f(this.props.document,null===(e=this.props.section)||void 0===e?void 0:e.sectionTypeCD,n);this.navigateToPage(i,t)}},{key:"updateDocumentContext",value:function(e){this.context.setDocument(l.n(e))}},{key:"render",value:function(){var e,t=T.h(),o=l.C(this.props.document),n=T.g(t,this.props.isEditMode,this.isFs_PreviewAndTips,o,null===(e=this.props)||void 0===e||null===(e=e.section)||void 0===e?void 0:e.sectionTypeCD),i=l.u(h.TypeCodes.fieldCd.JobCountry,!0),r=BLDR.getQueryString("companyid"),s="",p=T.d(this.props.document);p&&(p==c.ab.yes?s=BLDR.Localization.yes_Text:p==c.ab.no&&(s=BLDR.Localization.no_Text));var u=l.N(this.state.section.sectionTypeCD);return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{assignRef:this.assignRef,screenName:t,onParaSort:this.onParaSort,state:this.state,user:this.user,isEditMode:this.props.isEditMode,isAddMode:this.props.isAddMode,onCancelClick:this.onCancelClick,onContinueClick:this.onContinueClick,getTTCFromSection:this.getTTCFromSection,storeTTCForSection:this.storeTTCForSection,companyId:r,addAnotherPosition:this.addAnotherPosition,addAnotherCompany:this.addAnotherCompany,pageHeadingSubHeading:n,editPositionOrCompany:this.editPositionOrCompany,onExperienceAddOptionSelected:this.onExperienceAddOptionSelected,deleteParagraph:this.deleteParagraph,countryList:i,onComponentChange:this.onComponentChange,haveExperienceSelectedOption:s,onBackClick:this.onBackClick,enableJobTitleAutoSuggest:!0,noOfAutoAddTTCItems:this.noOfAutoAddTTCItems,graySuggestionForAutosuggest:!0,showPopup:this.state.showPopup,onClosePopupClick:this.onClosePopupClick,onClosesAutoAddTTCPopupClick:this.onClosesAutoAddTTCPopupClick,onPopupNextClick:this.onPopupNextClick,onPreviewRecommendationsClick:this.onPreviewRecommendationsClick,onStartFromScratchClick:this.onStartFromScratchClick,trackingPlacement:u,trackAllTTCEvents:this.trackAllTTCEvents,match:this.props.match,pageName:this.props.pageName,paraInitialize:this.liveResumePreview&&this.refsObj&&this.refsObj.experienceSection&&!this.refsObj.experienceSection.areAllFieldsBlank()&&t==c.H.details,isFs_PreviewAndTips:this.isFs_PreviewAndTips,saveResume:this.isFs_PreviewAndTips?this.onSaveResumeClick:null,hideCountryCD:l.U(),isPlaceholderExp:this.isCountrySpecificPlaceholder,useRMCCalendar:!1,setLimitForCalender:!0,txtOnFocus:null,txtOnBlur:null,trackEventsData:this.trackEventsData,showGPTContent:BLDR.showGPTContent,isFunnelImprvmnts:window.BLDR.featureSets.isFunnelImprovements,onDeleteSectionClick:this.onDeleteSectionClick,deleteSectionPopupConfirm:this.deleteSectionPopupConfirm,closeDeleteSectionPopup:this.closeDeleteSectionPopup}))}}])&&B(t.prototype,o),n&&B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component);U(F,"contextType",E.a)},1164:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return U}));var n=o(0),a=o.n(n),i=o(33),r=o(908),s=o.n(r),c=o(226),l=o(1),p=o(4),u=o(60),d=o(722),m=o(8),f=o(225),C=o(2);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function g(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function v(e){var t,o,n=BLDR.getQueryString("frm"),i=e.isFunnelImprvmnts,r=e.isMobileGeniusNormalize,h=e.state.section&&e.state.section&&e.state.section.paragraphs&&(0==e.state.section.paragraphs.length||1==e.state.section.paragraphs.length&&e.isAddMode),v="button-add-container";v+=h?" button-add-container-empty":" button-dotted";var D=e.screenName===l.y.details||e.screenName===l.y.overview&&p.ab();i&&D&&(n||p.ab()||(D=!1)),t=h?BLDR.Localization.updated_Add_education_button_Text:i?BLDR.Localization.updated_Add_School_Button_Text_Exp:BLDR.Localization.updated_Add_School_Button_Text,o=D?BLDR.Localization.cancel_Button_Text:BLDR.Localization.skip_This_Step_Button_Text;var b=D?BLDR.Localization.save_Button_Text:BLDR.Localization.continue_Button_text,S=e.screenName==l.y.schoolType?"builder-form-layout-content-section":void 0,L=a.a.createElement(m.O,null);var T,E=e.isSkipOrCancelButtonVisible&&e.screenName!=l.y.details&&!p.ab();return i&&(n||(E=e.isSkipOrCancelButtonVisible&&!p.ab())),a.a.createElement(c.a,{headingText:e.pageHeadingSubHeading.pageHeading,subHeadingText:e.pageHeadingSubHeading.pageSubHeading,panelBannerProps:e.pannelBannerProps,contentSectionClass:S,pageNameClass:"education-".concat(e.screenName),isFs_PreviewAndTips:e.isFs_PreviewAndTips,document:e.state.document,currentSectionCD:C.TypeCodes.sectionTypeCd.Education,saveResume:e.saveResume},e.screenName==l.y.schoolType?a.a.createElement(d.a,{options:l.bb.options,selectedOption:e.educationType,onNextClick:e.onSchoolTypeOptionSelected}):a.a.createElement(s.a,{ref:function(t){return e.assignRef("educationSection",t)},DebounceTime:500,PortalId:BLDR.PortalSettings.ConfigurePortal,User:e.user,Section:e.state.section,paragraphId:e.state.paragraph.id,Localization:e.localization,BaseApiUrl:BLDR.Paths.BaseApiUrl,CountryCd:BLDR.countryDetails.countryCode,ProductCd:BLDR.PortalSettings.ConfigureProductCd,PortalCd:BLDR.PortalSettings.ConfigurePortalCd,showDetails:e.showDetails,isEditMode:e.isEditMode,isAddMode:e.isAddMode,degreeList:e.state.degreeList,deleteParagraph:e.deleteParagraph,onParaSort:e.onParaSort,saveParagraph:e.saveParagraph,educationType:e.educationType,useDegreeAutosuggest:!0,useFieldOfStudyAutosuggest:!0,UseLookupApiForSchool:!0,hideSchoolLocationAutoSuggest:BLDR.isCVG||BLDR.isGFR,showNonDescriptionEducation:!0,exactSearch:!0,avoidTab:!0,avoidEnter:!0,isGraduationYearUpdate:!0,stopAutoFocus:!i,autoSuggestCustomTheme:l.m,screenName:e.screenName,loadParagraph:e.editParagraph,getDegreeSuggestions:e.getDegreeSuggestions,educationDegreeTypeList:u.m,deleteModalIcon:L,countryList:e.countryList,stateList:e.state.stateList,graduationStatusList:u.l,getYearList:i||r?p.S:p.R,onControlsValueChange:e.onControlsValueChange,showGraduationDateInSchoolLoc:!0,graduationStatus:e.graduationStatus,useUpdatedUI:!0,isPlaceholderExp:e.isPlaceholderExp,hideCountryCD:e.hideCountryCD,showAllFieldsEmptyError:!0,onComponentChange:e.onComponentChange,triggerTrackEvent:p.Lb,checkAdditionalFieldHaveValue:e.checkAdditionalFieldHaveValue,updateAccordianState:e.updateAccordianState,showAccordian:e.showAccordian,customValuesForAutoSuggest:e.customValuesForAutoSuggest,isFunnelImprvmnts:i,isMobileNormalize:r,useContentAPI:BLDR.isGFR,cultureCD:BLDR.isGFR?BLDR.cultureCD:null,defaultCountryCode:BLDR.defaultCountryCode,showActivityAutoSuggest:e.showActivityAutoSuggest,showAwardsAutoSuggest:e.showAwardsAutoSuggest,showFieldOfStudyAutoSuggest:e.showFieldOfStudyAutoSuggest}),e.screenName==l.y.overview&&a.a.createElement("div",{className:v},a.a.createElement("a",{className:"add-field help-text",onClick:e.addAnotherEducation},a.a.createElement("span",{className:"add-icon"},a.a.createElement(m.M,null))," ",t)),BLDR.IsMobileDevice()?a.a.createElement(a.a.Fragment,null,e.screenName!=l.y.schoolType&&a.a.createElement(a.a.Fragment,null,E&&a.a.createElement("div",{className:"skip-link","data-cancelbutton":D,onClick:e.onSkipOrCancelClick},a.a.createElement("a",{name:"skip link"},o)),a.a.createElement(f.a,(T={backBtnText:null,nextBtnText:null,onBackClick:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!!p.ab()},e.screenName!=l.y.schoolType&&(T.nextBtnText=b,T.onNextClick=e.onContinueClick,T.backBtnText=BLDR.Localization.back,T.onBackClick=e.onBackClick,e.isSkipOrCancelButtonVisible&&p.ab()&&(T.onBackClick=e.onSkipOrCancelClick,T.backBtnText=o)),function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},T))))):a.a.createElement("div",{className:"builder-form-layout-button-section back-button-layout".concat(E?" skip-btn-layout":"")},e.isSkipOrCancelButtonVisible&&p.ab()&&a.a.createElement("button",{className:"button button-default",type:"button","data-cancelbutton":D,onClick:e.onSkipOrCancelClick},o),e.screenName!=l.y.schoolType&&a.a.createElement(a.a.Fragment,null,!p.ab()&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),a.a.createElement("button",{className:"button button-primary button-continue",type:"button",onClick:e.onContinueClick},b),E&&a.a.createElement("div",{className:"skip-link","data-cancelbutton":D,onClick:e.onSkipOrCancelClick},a.a.createElement("a",{name:"skip link"},o)))))}var D=o(42),b=o(10),S=o(56);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){k(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function P(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=x(e);if(t){var a=x(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return B(this,o)}}function B(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,o){return(t=O(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function O(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(r,e);var t,o,n,i=w(r);function r(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),k(_(o=i.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(o.refsObj[e]=t)})),k(_(o),"checkAdditionalFieldHaveValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props.paragraph,t=e.docDatas.filter((function(e){return e.fieldCD===C.TypeCodes.fieldCd.Award||e.fieldCD===C.TypeCodes.fieldCd.Course||e.fieldCD===C.TypeCodes.fieldCd.Activity})).length>0;t?(o.state.showAccordian=!0,o.setState(o.state)):(o.state.showAccordian=!1,o.setState(o.state))})),k(_(o),"addAnotherEducation",(function(){var e;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(e={},l.E.Activity,"clicked"),k(e,l.E.Page_Name,"education overview"),k(e,l.E.Document_Type,"resumes"),k(e,l.E.Cta_Name,"add school"),e),BLDR.UserClaims.user_uid,p.db());if(o.isFunnelImprvmnts||o.isMobileGeniusNormalize){if(o.setState({showAccordian:!1}),o.isFunnelImprvmnts&&o.onSchoolTypeOptionSelected(l.lb.other,!0),o.isMobileGeniusNormalize){var t="".concat(b.c[l.N.education],"?add_school_type=").concat(o.schoolTypeSelected?o.schoolTypeSelected:l.lb.other,"&hidesidebar=true");o.props.history.push(t)}}else{var n="".concat(b.c[l.N.education],"?fields=").concat(l.x.schoolType,"&hidesidebar=true");o.props.history.push(n)}})),k(_(o),"deleteParagraph",(function(e){var t=JSON.parse(JSON.stringify(o.state.document)),n=C.DocumentHelper.removeParagraph(t,o.state.section.id,e),a=C.DocumentHelper.getSectionById(n,o.state.section.id);if(o.state.section.paragraphs.length<=1){var i=n.preferences.findIndex((function(e){return e.docPreferenceTypeCD===l.v.graduationDate}));-1!=i&&n.preferences.splice(i,1)}var r=o.state.paragraph;o.setState({document:n,section:a,paragraph:r}),o.liveResumePreview&&o.updateDocumentContext(n),o.props.documentActions.UpdateDocument(o.user.UserUID,n)})),k(_(o),"onParaSort",(function(e){var t=JSON.parse(JSON.stringify(o.state.document.sections)),n=t.findIndex((function(t){return t.id==e.id}));t[n]=e;var a=JSON.parse(JSON.stringify(o.state.document));a.sections=t,o.setState({section:e,document:a}),o.liveResumePreview&&o.updateDocumentContext(a),o.props.documentActions.UpdateDocument(o.user.UserUID,a)})),k(_(o),"saveParagraph",(function(e,t){o.updateDocumentState(e,t,!0)})),k(_(o),"getStateListFromCountry",(function(e){if(e&&e.docDatas){var t=C.CommonHelper.getCharValue(e.docDatas,C.TypeCodes.fieldCd.SchoolCountry),n=p.t(t);o.getStateList(n)}})),k(_(o),"getDegreeList",(function(){o.setState({degreeList:[]}),o.props.commonActions.GetDegreeList().then((function(e){var t=[];e&&e.SurveyResponses&&e.SurveyResponses.length>0&&e.SurveyResponses.forEach((function(e){var o={label:e.DisplayText,value:e.DisplayText,name:C.TypeCodes.fieldCd.DegreeEarned};t.push(o)})),o.setState({degreeList:t})}))})),k(_(o),"getStateList",(function(e){if(C.CommonHelper.isNullOrWhitespace(e)||e!=l.r.canada&&e!=l.r.unitedSates)o.state.stateList.length>0&&o.setState({stateList:[]});else if(BLDR.States&&BLDR.States[e]){var t=p.s(C.TypeCodes.fieldCd.SchoolState,BLDR.States[e]);o.setState({stateList:t})}else o.props.commonActions.GetStateList(e).then((function(e){if(e&&e.length>0){var t=p.s(C.TypeCodes.fieldCd.SchoolState,e);o.setState({stateList:t})}else o.state.stateList.length>0&&o.setState({stateList:[]})}))})),k(_(o),"getDegreeSuggestions",(function(e){var t=[];o.state.degreeList&&JSON.parse(JSON.stringify(o.state.degreeList)).forEach((function(o){o.value.toLowerCase().indexOf(e.toLowerCase())>-1&&(o.displayValue=o.value,o.selectedValue=o.value,t.push(o))}));return t})),k(_(o),"updateAccordianState",(function(){o.setState({showAccordian:!o.state.showAccordian})})),k(_(o),"onComponentChange",(function(){var e=u.j(),t=[l.y.awards,l.y.activities,l.y.courses,l.y.schoolType];o.isFunnelImprvmnts||t.push(l.y.details);var n=o.refsObj.educationSection.getUpdatedSection(t.includes(e));if(o.liveResumePreview&&e!==l.y.overview&&e!==l.y.schoolType){var a=JSON.parse(JSON.stringify(o.state.document));a.sections[a.sections.findIndex((function(e){return e.id===n.Section.id}))]=n.Section,o.updateDocumentContext(a)}})),k(_(o),"updateDocumentState",(function(e,t,n){var a=JSON.parse(JSON.stringify(o.state.document)),i=a.sections.findIndex((function(t){return t.id==e.id}));a.sections[i]=e;var r=p.K();if(a=C.DocumentHelper.deleteEmptyParagrah(a,r),a=p.Hb(E({},a)),1===e.paragraphs.length){var s=o.getGraduationDate(t);C.CommonHelper.isNullOrWhitespace(s)||o.addDocPreference(a,e,s)}return o.setState({document:a,section:e,paragraph:t}),p.zb(a,C.TypeCodes.sectionTypeCd.Education),o.liveResumePreview&&o.updateDocumentContext(a),n&&o.props.documentActions.UpdateDocument(o.user.UserUID,a),a})),k(_(o),"getGraduationDate",(function(e){var t="",o=C.CommonHelper.getCharValue(e.docDatas,C.TypeCodes.fieldCd.GraduationYear);if(!C.CommonHelper.isNullOrWhitespace(o)){var n=C.CommonHelper.formatGradYearDate(o);t=l.d().monthNames[n.getMonth()]+" "+n.getFullYear()}return t})),k(_(o),"addDocPreference",(function(e,t,o){var n=l.v.graduationDate;if(e.preferences&&1===t.paragraphs.length){var a=e.preferences.find((function(e){return e.docPreferenceTypeCD==n}));a?a.value=o:C.CommonHelper.addDocumentPreference(e,n,o)}})),k(_(o),"editParagraph",(function(e,t){var n="".concat(b.c[l.N.education],"?paraid=").concat(t,"&hidesidebar=true&frm=").concat(l.y.overview);o.isFunnelImprvmnts&&(n="".concat(b.c[l.N.education],"?paraid=").concat(t,"&frm=").concat(l.y.overview));var a=C.DocumentHelper.getParagraphsById(o.state.document,e,t)||null;a&&a.docDatas&&a.docDatas.length>0&&((o.isFunnelImprvmnts||o.isMobileGeniusNormalize)&&o.checkAdditionalFieldHaveValue(a),o.schoolTypeSelected=C.CommonHelper.getCharValue(a.docDatas,C.TypeCodes.fieldCd.EducationDegreeType),o.isFunnelImprvmnts&&o.setState({paragraph:a})),o.props.history.push(n)})),k(_(o),"onControlsValueChange",(function(e){e&&e.name&&e.name==C.TypeCodes.fieldCd.SchoolCountry&&e.countryCD&&o.getStateList(e.countryCD),e&&e.name&&e.name==C.TypeCodes.fieldCd.EducationDegreeType&&e.value&&(o.schoolTypeSelected=e.value,o.forceUpdate())})),k(_(o),"onSchoolTypeOptionSelected",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.schoolTypeSelected="";var n=C.CommonHelper.isNullOrWhitespace(e)?null:u.m.find((function(t){return t.value.toLowerCase()===e.replace(/\s/g,"").toLowerCase()}));n&&(o.schoolTypeSelected=n.value);var a=u.f(o.state.document,o.schoolTypeSelected);t&&(a+="&frm="+l.y.overview),o.props.history.push(a)})),k(_(o),"onSkipOrCancelClick",(function(){o.schoolTypeSelected="";var e=u.j();if(u.n(e)&&!p.ab()){var t,n=Object(D.c)();if(n&&BLDR.UserClaims&&BLDR.UserClaims.user_uid)BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(t={},l.E.Activity,"clicked"),k(t,l.E.Page_Name,n),k(t,l.E.Document_Type,"resumes"),k(t,l.E.Cta_Name,"skip this step"),t),BLDR.UserClaims.user_uid,p.db())}o.context.setDocument(p.n(o.props.document));var a=u.f(o.state.document);e==l.y.schoolLocation&&(a=u.c(o.state.document)),o.props.history.push(a)})),k(_(o),"onBackClick",(function(){var e,t=Object(D.c)();t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(e={},l.E.Activity,"clicked"),k(e,l.E.Page_Name,t),k(e,l.E.Document_Type,"resumes"),k(e,l.E.Cta_Name,"back"),e),BLDR.UserClaims.user_uid,p.db());o.noEducation_OverviewUserStage=0,o.fireViewEventGPAScreen=o.fireViewEventCoursesScreen=!0,o.fireViewEventAwardsScreen=o.fireViewEventActivitiesScreen=o.fireViewEventDegreeScreen=!0;var n=u.b(o.state.document);o.context.setDocument(p.n(o.props.document)),o.props.history.push(n)})),k(_(o),"onContinueClick",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"boolean"!=typeof e&&(e=!1),o.noEducation_OverviewUserStage=0,o.fireViewEventGPAScreen=o.fireViewEventCoursesScreen=!0,o.fireViewEventAwardsScreen=o.fireViewEventActivitiesScreen=o.fireViewEventDegreeScreen=!0;var t,n=Object(D.c)();n&&1!=e&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(t={},l.E.Activity,"clicked"),k(t,l.E.Page_Name,n),k(t,l.E.Document_Type,"resumes"),k(t,l.E.Cta_Name,"next"),t),BLDR.UserClaims.user_uid,p.db());var a=u.j(),i=u.f(o.state.document);if(a===l.y.overview){o.schoolTypeSelected="";var r=JSON.parse(JSON.stringify(o.state.document)),s=r.sections.find((function(e){return e.sectionTypeCD===C.TypeCodes.sectionTypeCd.Education})),c=o.props.document.sections.find((function(e){return e.sectionTypeCD===C.TypeCodes.sectionTypeCd.Education}));s.paragraphs=c.paragraphs,r=p.Hb(E({},r)),o.props.documentActions.UpdateDocument(o.user.UserUID,r),o.navigateToPage(i,e)}else if(o.refsObj.educationSection.areAllFieldsBlank()&&!o.props.isEditMode)a==l.y.schoolLocation&&(i=u.c(o.state.document)),o.navigateToPage(i,e);else{var d=[l.y.details],m=d.includes(a)&&o.props.isAddMode,f=o.refsObj.educationSection.getUpdatedSection(!0);if(f.Section.paragraphs=u.a(f.Section.paragraphs),f.isValid){var h=o.updateDocumentState(f.Section,f.Paragraph,!0);i=u.f(h),!e&&m&&(i=b.c[l.N.education]),o.navigateToPage(i,e,m)}}})),k(_(o),"onSaveResumeClick",(function(){Object(D.b)(),o.onContinueClick(!0)})),o.refsObj={},o.user=p.P(),o.schoolTypeSelected=u.i(o.props.document),o.state=u.e(o.props,o.user),o.liveResumePreview=BLDR.showLiveResumePreview,o.isFs_PreviewAndTips=window.BLDR.featureSets.resumePreviewAndTips,o.noEducation_OverviewUserStage=0,o.fireViewEventGPAScreen=!0,o.fireViewEventCoursesScreen=!0,o.fireViewEventAwardsScreen=!0,o.fireViewEventActivitiesScreen=!0,o.fireViewEventDegreeScreen=!0,o.isFunnelImprvmnts=window.BLDR.featureSets.isFunnelImprovements,o.isCountrySpecificPlaceHolders=window.BLDR.featureSets.countrySpecificPlaceHolders,o.isMobileGeniusNormalize=window.BLDR.featureSets.geniusMobileNormalize,o.hasZeroExpAndStillEnrolled=p.lb(o.props.document),o.customValuesForAutoSuggest=o.isFunnelImprvmnts?BLDR.isGFR?l.wb:l.vb:[],o}return t=r,(o=[{key:"componentDidMount",value:function(){(this.isFunnelImprvmnts||this.isMobileGeniusNormalize)&&this.checkAdditionalFieldHaveValue(),this.getStateListFromCountry(this.state.paragraph),this.getDegreeList();var e,t,o=u.j();if(o!=l.y.overview&&this.props.saveUserStages(l.Eb.Education),window.BLDR.featureSets.isFunnelImprovements&&o===l.y.details&&BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(e={},l.E.Activity,"viewed"),k(e,l.E.Page_Name,"education"),k(e,l.E.Document_Type,"resumes"),e),BLDR.UserClaims.user_uid,p.db()),o===l.y.schoolLocation)BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(t={},l.E.Activity,"viewed"),k(t,l.E.Page_Name,"education"),k(t,l.E.Document_Type,"resumes"),t),BLDR.UserClaims.user_uid,p.db());else if(o===l.y.overview){var n;BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(n={},l.E.Activity,"viewed"),k(n,l.E.Page_Name,"education overview"),k(n,l.E.Document_Type,"resumes"),n),BLDR.UserClaims.user_uid,p.db())}}},{key:"componentDidUpdate",value:function(){var e=p.Y(this.state.document,this.props.document);(this.props.paragraph&&this.state.paragraph&&this.props.paragraph.id!=this.state.paragraph.id||e)&&(e||this.getStateListFromCountry(this.props.paragraph),this.setState({document:this.props.document,section:this.props.section,paragraph:this.props.paragraph}));var t=u.j();if(t===l.y.overview&&this.noEducation_OverviewUserStage<1)this.props.saveUserStages(l.Eb.Education_Overview),this.noEducation_OverviewUserStage=this.noEducation_OverviewUserStage+1;else if(t===l.y.gpa&&!0===this.fireViewEventGPAScreen){var o;this.fireViewEventGPAScreen=!1,BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(o={},l.E.Activity,"viewed"),k(o,l.E.Page_Name,"gpa"),k(o,l.E.Document_Type,"resumes"),o),BLDR.UserClaims.user_uid,p.db())}else if(t===l.y.courses&&!0===this.fireViewEventCoursesScreen){var n;this.fireViewEventCoursesScreen=!1,BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(n={},l.E.Activity,"viewed"),k(n,l.E.Page_Name,"relevant courses"),k(n,l.E.Document_Type,"resumes"),n),BLDR.UserClaims.user_uid,p.db())}else if(t===l.y.awards&&!0===this.fireViewEventAwardsScreen){var a;this.fireViewEventAwardsScreen=!1,BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(a={},l.E.Activity,"viewed"),k(a,l.E.Page_Name,"awards"),k(a,l.E.Document_Type,"resumes"),a),BLDR.UserClaims.user_uid,p.db())}else if(t===l.y.activities&&!0===this.fireViewEventActivitiesScreen){var i;this.fireViewEventActivitiesScreen=!1,BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(i={},l.E.Activity,"viewed"),k(i,l.E.Page_Name,"extracurricular activities"),k(i,l.E.Document_Type,"resumes"),i),BLDR.UserClaims.user_uid,p.db())}else if(t===l.y.degree&&!0===this.fireViewEventDegreeScreen){var r;this.fireViewEventDegreeScreen=!1,BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(k(r={},l.E.Activity,"viewed"),k(r,l.E.Page_Name,"degree"),k(r,l.E.Document_Type,"resumes"),r),BLDR.UserClaims.user_uid,p.db())}}},{key:"updateDocumentContext",value:function(e){this.context.setDocument(p.n(e))}},{key:"navigateToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p.E(e,t,this.props.location,o);t&&document.body.classList.remove("fs-live-previewV2"),this.props.history.push(n)}},{key:"render",value:function(){var e=u.j(),t=u.g(e,this.schoolTypeSelected,this.props.isEditMode),o=e!==l.y.overview,n=u.k(this.schoolTypeSelected),i=u.n(e),r=p.u(C.TypeCodes.fieldCd.SchoolCountry,!0),s=p.x(this.props.document,l.v.graduationStatus);s&&(s=s.replace(" ","").toLowerCase());var c=u.h(e),d=this.isFunnelImprvmnts,m=this.schoolTypeSelected;return C.CommonHelper.isNullOrWhitespace(m)&&(m=C.CommonHelper.getCharValue(this.props.paragraph.docDatas,C.TypeCodes.fieldCd.EducationDegreeType)),d&&(n.EDUCATION_LOCALIZATION.dergreeNameHSD=BLDR.Localization.dergreeNameHSD,n.EDUCATION_LOCALIZATION.dergreeNameGED=BLDR.Localization.dergreeNameGED,n.EDUCATION_LOCALIZATION.schoolName=BLDR.Localization.school_name_label_Exp,n.EDUCATION_LOCALIZATION.schoolNameErr=BLDR.Localization.school_error_message_text_Exp,n={EDUCATION_LOCALIZATION:p.Bb(n.EDUCATION_LOCALIZATION,"education")},m==l.lb.highSchool?n.EDUCATION_LOCALIZATION.schoolPtext=n.EDUCATION_LOCALIZATION.schoolPtextForSchool:m==l.lb.other&&(n.EDUCATION_LOCALIZATION.schoolPtext=BLDR.IsMobileDevice()?n.EDUCATION_LOCALIZATION.schoolPtextForSchool:n.EDUCATION_LOCALIZATION.schoolPtext)),this.isCountrySpecificPlaceHolders&&(n={EDUCATION_LOCALIZATION:p.Bb(n.EDUCATION_LOCALIZATION,"education")},m==l.lb.other&&(n.EDUCATION_LOCALIZATION.schoolPtext=BLDR.IsMobileDevice()?n.EDUCATION_LOCALIZATION.schoolPtextForSchool:n.EDUCATION_LOCALIZATION.schoolPtext)),a.a.createElement(v,{assignRef:this.assignRef,screenName:e,state:this.state,user:this.user,localization:n,addAnotherEducation:this.addAnotherEducation,onSkipOrCancelClick:this.onSkipOrCancelClick,onContinueClick:this.onContinueClick,showDetails:o,pageHeadingSubHeading:t,educationType:this.schoolTypeSelected,editParagraph:this.editParagraph,onSchoolTypeOptionSelected:this.onSchoolTypeOptionSelected,deleteParagraph:this.deleteParagraph,onParaSort:this.onParaSort,saveParagraph:this.saveParagraph,getDegreeSuggestions:this.getDegreeSuggestions,isSkipOrCancelButtonVisible:i,countryList:r,isEditMode:this.props.isEditMode,isAddMode:this.props.isAddMode,onBackClick:this.onBackClick,onControlsValueChange:this.onControlsValueChange,graduationStatus:s,useUpdatedUI:!0,pannelBannerProps:c,match:this.props.match,pageName:this.props.pageName,onComponentChange:this.onComponentChange,isPlaceholderExp:d,isFs_PreviewAndTips:this.isFs_PreviewAndTips,saveResume:this.isFs_PreviewAndTips?this.onSaveResumeClick:null,hideCountryCD:p.U(),isFunnelImprvmnts:this.isFunnelImprvmnts,isMobileGeniusNormalize:this.isMobileGeniusNormalize,checkAdditionalFieldHaveValue:this.checkAdditionalFieldHaveValue,updateAccordianState:this.updateAccordianState,showAccordian:this.state.showAccordian,customValuesForAutoSuggest:this.customValuesForAutoSuggest,showActivityAutoSuggest:!BLDR.isGFR,showAwardsAutoSuggest:!BLDR.isGFR,showFieldOfStudyAutoSuggest:!BLDR.isGFR})}}])&&P(t.prototype,o),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component);function U(e){return{document:e.Document}}k(N,"contextType",S.a);t.default=Object(i.b)(U,null)(N)},1165:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return X}));var n=o(0),a=o.n(n),i=o(881),r=o.n(i),s=o(226),c=o(4),l=o(1),p=o(225),u=o(63),d=o.n(u),m=o(2),f=o(8),C=o(903),h=o.n(C),y=o(87),g=o(759),v=o(760),D=o.n(v),b=o(762),S=o(48);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){P(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function P(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var R=o(761);function w(e){var t=window.BLDR.featureSets.isFunnelImprovements;var o={previewTemplate:R.renderToStaticMarkup(a.a.createElement("span",null)),acceptedFiles:"application/pdf,application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.documentapplication/vnd.oasis.opendocument.text,text/html,text/rtf,text/plain,application/vnd.openxmlformats-officedocument.wordprocessingml.document",autoProcessQueue:!1,createImageThumbnails:!1,clickable:!0,maxFiles:1},n={postUrl:"no-url",showFiletypeIcon:!0,dropzoneSelector:".resume-upload-box"},i={addedfile:e.handleFile,drop:[function(){this.removeAllFiles()},function(){e.dragFileHandler()}],maxfilesexceeded:function(){this.removeAllFiles()}},u=BLDR.IsMobileDevice()||BLDR.isIPAD()?BLDR.Localization.contact_info_heading_text:BLDR.Localization.contact_info_heading_text_Exp,C=BLDR.IsMobileDevice()||BLDR.isIPAD()?BLDR.Localization.mobile_Cntc_Heading:BLDR.Localization.contact_info_sub_heading_text_Exp;return a.a.createElement(s.a,{headingText:BLDR.featureSets.simplifyContactH1Variant3?BLDR.Localization.contact_info_heading_text_simplify_exp:BLDR.featureSets.simplifyContactH1Variant2?BLDR.Localization.contact_info_heading_text:u,subHeadingText:BLDR.featureSets.simplifyContactH1Variant2?BLDR.Localization.mobile_Cntc_Heading:BLDR.featureSets.simplifyContactH1Variant3?BLDR.Localization.contact_info_sub_heading_text_simplify_exp:C,panelBannerProps:l.T,hidePanelBanner:e.hidePanelBanner,pageNameClass:"contact-info-screen",document:e.state.document,saveResume:e.saveResume,showPreviewBtn:!1,isFs_PreviewAndTips:e.isFs_PreviewAndTips,setDocumentProps:e.setDocumentProps,currentSectionCD:m.TypeCodes.sectionTypeCd.Contact,fetchInfo:e.getInfoForContactInlineUpload,onPrimaryClick:e.openResumeInlineUploadPopup,openPopup:e.controlUploadResumeInlinePopup},e.isFs_photoUpload&&a.a.createElement("div",{className:e.isFs_photoUpload?"photo-cv-container":e.isFs_photoUpload?"col-md-4":"col-md-12"},a.a.createElement(h.a,{ref:function(t){return e.assignRef("photoComponent",t)},photoURL:e.photoURL,skinCD:e.state.document.skinCD,skinshtml:BLDR.skinHtmls,cropperDimension:l.s,cropperStyles:l.t,uploadPhoto:e.uploadPhoto,userId:e.User.UserUid,documentId:e.state.document.id,resetTimeoutID:e.resetTimeoutID,Localization:y.r,photoClass:"",changeBtnPosition:!0,zoomInClass:"fa-search-minus",zoomOutClass:"fa-search-plus",joshuaDOMUpdate:BLDR.joshuaTreeINTL,enablePhotoUploadZoomOut:!0,trimCanvasClasses:l.Bb,isEnableFilters:!1,preventPhotoZoomOnChange:!0,imageQualityValue:BLDR.imageQualityValue?BLDR.imageQualityValue:void 0,openBrowse:!BLDR.isINTL,addPictureSection:e.addPictureSection,onDeleteClick:e.onDeleteClick})),a.a.createElement(r.a,{ref:function(t){return e.assignRef("contactComponent",t)},PortalCd:window.BLDR.PortalSettings.ConfigurePortalCd,onComponentChange:e.onComponentChange,ProductCd:window.BLDR.PortalSettings.ConfigureProductCd,cultureCD:BLDR.cultureCD,TTCCulture:BLDR.isCVG?"en-US":BLDR.isGFR?"fr-FR":null,Localization:e.contactLocalizaion,DebounceTime:window.BLDR.DebounceTime,customPhoneMasking:c.l,isFs_autoPhoneMask:BLDR.featureSets.autoPhoneMask,isFs_modifyContactDetails:window.BLDR.featureSets.modifyContactDetails,CountryCd:window.BLDR.countryDetails.countryCode||l.r.unitedSates,isCityAutosuggest:c.Qb(),validateZipOnKeyDown:!0,BaseApiUrl:window.BLDR.Paths.BaseApiUrl,Contact:e.state.contactSection,Name:e.state.nameSection,User:e.User,documentId:e.state.document.id,document:e.state.document,autoSuggestCustomTheme:E(E({},l.m),{},{container:"autosuggest-container Select"}),countries:e.countries,stateList:e.stateList,onSelectClick:e.onSelectClick,isFirstFocus:t&&!(e.state.showUploadCompletedPopup||e.state.showUploadResumePopup),useGoogleWidget:!1,isStateAutosuggest:c.Rb(),isZipAutosuggest:c.Sb(),useUpdatedUI:!0,isPlaceholderExp:e.isPlaceholderExp,hideCountryCD:e.hideCountryCD,addSpecialFieldsButton:e.addSpecialFieldsButton,addSectionControls:e.addSectionControls,fsLocationAutofill:BLDR.featureSets.locationAutofill,getCityStateByZipCode:S.GetCityStateByZipCode}),BLDR.IsMobileDevice()?a.a.createElement(p.a,E({},{backBtnText:e.isCalledFromFinalize?e.contactLocalizaion.CancelCTAText:BLDR.Localization.back,nextBtnText:e.isCalledFromFinalize?e.contactLocalizaion.SaveCTAText:e.contactLocalizaion.continueCTAText,onBackClick:e.isCalledFromFinalize?e.onCancel:e.onBackClick,onNextClick:e.onNextClick,pageName:e.pageName,match:e.match,hideProgressBar:!!e.isCalledFromFinalize})):a.a.createElement("div",{className:"builder-form-layout-button-section back-button-layout"},e.isCalledFromFinalize?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"button button-default btn-back js-back-button",type:"button",onClick:e.onCancel},e.contactLocalizaion.CancelCTAText),a.a.createElement("button",{className:"button button-primary btn-next js-next-button",type:"button",onClick:e.onNextClick},e.contactLocalizaion.SaveCTAText)):a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},a.a.createElement("span",{className:"custom-button-text","data-title":BLDR.Localization.back})),a.a.createElement("button",{type:"button",className:"button button-primary",onClick:e.onNextClick},e.contactLocalizaion.continueCTAText))),e.isMobileUploadFunnelExp&&e.isResumeUploaded&&a.a.createElement(d.a,{isOpen:e.state.showUploadCompletedPopup,closeModal:e.closeUploadCompletedPopup,shouldCloseOnOverlayClick:!0,hasHeader:!1,cssClass:{btnPrimary:"button button-default",modalDialog:"upload-complete"}},a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"modal-icon"}),a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("div",{className:"upload-left-sec"},a.a.createElement("h2",{className:"upload-heading"}," ",BLDR.Localization.upload_completed_popup_heading),a.a.createElement("ul",{className:"upload-list"},a.a.createElement("li",null,BLDR.Localization.upload_completed_popup_li_one),a.a.createElement("li",null,BLDR.Localization.upload_completed_popup_li_two),a.a.createElement("li",null,BLDR.Localization.upload_completed_popup_li_three)),a.a.createElement("button",{type:"button",className:"button button-primary",onClick:e.closeUploadCompletedPopup},a.a.createElement(f.T,{iconClass:"icon-pen"}),BLDR.Localization.upload_completed_popup_btn_Text)),a.a.createElement("div",{className:"upload-right-sec"},a.a.createElement("div",{className:"upload-complete-bg"}))))),e.state.showUploadResumePopup&&a.a.createElement(d.a,{isOpen:e.state.showUploadResumePopup,closeModal:function(){return e.closeUploadCompletedPopupInline()},onPrimaryClick:function(){return e.closeUploadCompletedPopupInline()},shouldCloseOnOverlayClick:!0,hasHeader:!1,cssClass:{btnPrimary:"button button-default",modalDialog:"inline-resume-modal \n                    ".concat(e.state.showUploadCompletedScreen?"upload-complete":"")}},a.a.createElement("div",{className:"modal-body"},!e.state.showUploadCompletedScreen&&!e.state.browseFile&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-icon",onClick:function(){return e.closeUploadCompletedPopupInline()}},a.a.createElement(f.t,null)),a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("h2",{className:"modal-title"},BLDR.Localization.upload_resume_popup_upload_inline_Exp),a.a.createElement("p",{className:"modal-text"},BLDR.Localization.upload_resume_popup_text1_upload_inline_Exp),a.a.createElement("div",{className:"resume-upload-box"},a.a.createElement("h3",{className:"upload-box-head"},BLDR.Localization.upload_resume_popup_text2_upload_inline_Exp),a.a.createElement("p",{className:"upload-box-text"},BLDR.Localization.upload_resume_popup_text3_upload_inline_Exp),a.a.createElement(g.a,{isUploadInProgress:e.state.isUploadinProgress,id:"upload",className:"button button-primary resume-box-btn",name:"Browse",handleFile:e.handleFile}),a.a.createElement(D.a,{config:n,eventHandlers:i,djsConfig:o})),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{className:"button button-default btn-lg",onClick:e.closeUploadCompletedPopupInline},BLDR.Localization.upload_resume_popup_btn_text_upload_inline_Exp)))),!e.state.showUploadCompletedScreen&&!m.CommonHelper.isNullOrWhitespace(e.state.fileName)&&!e.state.showError&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-icon",onClick:function(){return e.closeUploadCompletedPopupInline()}},a.a.createElement(f.t,null)),a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("h2",{className:"modal-title"},BLDR.Localization.upload_resume_step2_popup_upload_inline_Exp),a.a.createElement("p",{className:"modal-text"},BLDR.Localization.upload_resume_step2_text2_popup_upload_inline_Exp),a.a.createElement("div",{className:"resume-upload-box file-selected-box"},a.a.createElement("h3",{className:"upload-box-head"},a.a.createElement(f.k,{iconClass:"fa-icon"}),e.state.fileName),a.a.createElement(g.a,{isUploadInProgress:e.state.isUploadinProgress,id:"upload",className:"button button-default resume-box-btn",name:BLDR.Localization.select_new_file,handleFile:e.handleFile}),a.a.createElement(D.a,{config:n,eventHandlers:i,djsConfig:o})),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{className:"button button-default btn-md",onClick:e.goToUploadScreen},BLDR.Localization.upload_resume_popup_back_btn_text_upload_inline_Exp),a.a.createElement("div",{className:"progressbar-btn-wrap"},a.a.createElement("button",{type:"button",className:"button button-primary progress-bar-cta btn-md",onClick:function(){e.onContinueClick()}},BLDR.Localization.upload_resume_popup_continue_btn_text_upload_inline_Exp,a.a.createElement("span",{className:"done-span"},a.a.createElement("i",{className:"far fa-check"}),BLDR.Localization.upload_resume_popup_done_btn_text_upload_inline_Exp)),a.a.createElement(b.a,null))))),e.state.showError&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-icon"},a.a.createElement(f.t,null)),a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("h2",{className:"modal-title"},BLDR.Localization.upload_resume_step3_popup_upload_inline_Exp),a.a.createElement("p",{className:"modal-text"},BLDR.Localization.upload_resume_step3_text2_popup_upload_inline_Exp),a.a.createElement("div",{className:"resume-upload-box file-selected-box unsuccess-file-selected"},a.a.createElement("h3",{className:"upload-box-head"},a.a.createElement(f.p,{iconClass:"fa-icon"}),e.state.fileName),a.a.createElement(g.a,{isUploadInProgress:e.state.isUploadinProgress,id:"errorupload",className:"button button-primary resume-box-btn",name:BLDR.Localization.select_new_file,handleFile:e.handleFile}),a.a.createElement(D.a,{config:n,eventHandlers:i,djsConfig:o})),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{className:"button button-default btn-lg",onClick:e.goToUploadScreen},BLDR.Localization.upload_resume_popup_back_btn_text_upload_inline_Exp)))),e.state.showUploadCompletedScreen&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("div",{className:"upload-left-sec"},a.a.createElement("h2",{className:"upload-heading"}," ",BLDR.Localization.upload_completed_popup_heading),a.a.createElement("ul",{className:"upload-list"},a.a.createElement("li",null,BLDR.Localization.upload_completed_popup_li_one),a.a.createElement("li",null,BLDR.Localization.upload_completed_popup_li_two),a.a.createElement("li",null,BLDR.Localization.upload_completed_popup_li_three)),a.a.createElement("button",{type:"button",className:"button button-primary",onClick:e.closeUploadCompletedPopup},a.a.createElement(f.T,{iconClass:"icon-pen"}),BLDR.Localization.upload_completed_popup_btn_Text)),a.a.createElement("div",{className:"upload-right-sec"},a.a.createElement("div",{className:"upload-complete-bg"})))))),e.state.showDeleteOrFileReplacementPopup&&a.a.createElement(d.a,{isOpen:e.state.showDeleteOrFileReplacementPopup,closeModal:function(){return e.controlUploadResumeInlinePopup(!1)},shouldCloseOnOverlayClick:!0,hasHeader:!1,cssClass:{btnPrimary:"button button-default",modalDialog:"inline-resume-fileAction-modal \n                        ".concat(1===e.state.uploadResumeSidebarPopup?"inline-resume-fileReplace-modal":"")}},a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"modal-icon",onClick:function(){return e.controlUploadResumeInlinePopup(!1)}},a.a.createElement(f.t,null)),a.a.createElement("div",{className:"modal-body-content"},0===e.state.uploadResumeSidebarScreen&&e.confirmDeletePopUp(),1===e.state.uploadResumeSidebarScreen&&e.confirmFileReplacementPopUp()))))}var B=o(86),_=o(42),x=o(43),k=o(10),O=o(56),N=o(60),U=o(228);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=H(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}function I(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return j(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function z(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function M(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?z(Object(o),!0).forEach((function(t){K(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Z(e);if(t){var a=Z(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return W(this,o)}}function W(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,o){return(t=Y(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Y(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(r,e);var t,o,n,i=G(r);function r(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),K(Q(o=i.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(o.refObj[e]=t)})),K(Q(o),"conductRemoveExperienceQuestionExperiment",(function(){var e=c.y(BLDR.PortalExperiments.expRemoveExperienceQuestion);0==e&&"Guest"==BLDR.UserClaims.role?o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expRemoveExperienceQuestion.id,BLDR.PortalExperiments.expRemoveExperienceQuestion.conductForOldUsers).then((function(e){e&&e.isSuccess&&e.data&&2==e.data.variant&&o.updateQuestionnaire()})):2==e&&o.updateQuestionnaire()})),K(Q(o),"conductModifyRegisterationPageExperiment",(function(){var e=c.y(BLDR.PortalExperiments.expModifyRegistrationPage);0==e&&"Guest"==BLDR.UserClaims.role&&BLDR.UserClaims.user_uid?o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expModifyRegistrationPage.id,BLDR.PortalExperiments.expModifyRegistrationPage.conductForOldUsers).then((function(e){e&&e.isSuccess&&e.data&&2==e.data.variant?window.BLDR.featureSets.ModifyRegisterationPage=!0:window.BLDR.featureSets.ModifyRegisterationPage=!1})).catch((function(){window.BLDR.featureSets.ModifyRegisterationPage=!1})):window.BLDR.featureSets.ModifyRegisterationPage=2==e})),K(Q(o),"conductRegistrationImprovementExperiment",(function(){0==c.y(BLDR.PortalExperiments.expRGNRegistrationImprovement)&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expRGNRegistrationImprovement.id).then((function(e){var t=e&&e.isSuccess&&e.data&&e.data.variant;2==t&&(BLDR.featureSets.accountCreationVariation1=!0),3==t&&(BLDR.featureSets.accountCreationVariation2=!0)})).catch((function(){BLDR.featureSets.accountCreationVariation1=!1,BLDR.featureSets.accountCreationVariation2=!1}))})),K(Q(o),"updateQuestionnaire",(function(){var e=JSON.parse(JSON.stringify(o.props.document)),t=l.v.experiencePresent,n=l.ab.yes;if(e.preferences){var a=e.preferences.find((function(e){return e.docPreferenceTypeCD==t}));a?a.value!==n&&(e=Object(x.l)(e,n)):e=m.CommonHelper.addDocumentPreference(e,t,n)}o.props.documentActions.UpdateDocument(o.props.user.user_uid,e),o.setState({document:e})})),K(Q(o),"conductPasswordLessAuthExperiment",(function(){0==c.y(BLDR.PortalExperiments.expPasswordLessAuth)&&o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expPasswordLessAuth.id,BLDR.PortalExperiments.expPasswordLessAuth.conductForOldUsers).then((function(e){var t=e&&e.isSuccess&&e.data&&e.data.variant;BLDR.featureSets.passwordLessSignup=2==t})).catch((function(){BLDR.featureSets.passwordLessSignup=!1}))})),K(Q(o),"conductGeniusMobileNormalizeExperiment",(function(){var e=new Promise((function(e){return e("")}));return BLDR.isRG&&BLDR.IsMobileDevice()&&BLDR.PortalExperiments.expGeniusMobileNormalize&&0==c.y(BLDR.PortalExperiments.expGeniusMobileNormalize)&&(e=o.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expGeniusMobileNormalize.id)),e})),K(Q(o),"getHeaderInitialState",(function(e){var t=Object.assign({},e),o=e.sections.filter((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Name}))[0],n=e.sections.filter((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Contact}))[0];if(null==o||null==o){var a=BLDR.getTemplateFromSkin(t.skinCD),i=m.DocumentHelper.GetSectionContainerIndex(m.TypeCodes.sectionTypeCd.Name,a,BLDR.isMultiColumnSkin(t.skinCD));if((o=m.DocumentHelper.createDummySectionWithParagraph(m.TypeCodes.sectionTypeCd.Name,1,t.id,t.userId,i,BLDR.Definition_Tips))&&o.paragraphs&&o.paragraphs.length>0&&(o.paragraphs[0].index=1),t.sections&&t.sections.length>0)t.sections.some((function(e){return 1==e.index}))&&t.sections.forEach((function(e){e.index=e.index+1})),t.sections.unshift(o);else t.sections=[],t.sections[0]=o}if(o&&(!o.paragraphs||o.paragraphs.length<1)){var r=m.DocumentHelper.createFirstPara(o,e.userId),s=Object.assign({},o);r.index=s.paragraphs.length+1,s.paragraphs.push(r);var c=t.sections.map((function(e){return e.id})).indexOf(o.id);t.sections[c]=s}return{document:t,contactSection:n,nameSection:o}})),K(Q(o),"closeUploadCompletedPopup",(function(){o.setState({showUploadCompletedPopup:!1,showUploadResumePopup:!1})})),K(Q(o),"closeUploadCompletedPopupInline",(function(){o.setState({showUploadResumePopup:!1})})),K(Q(o),"openResumeInlineUploadPopup",(function(){o.setState({fileName:"",fileType:"",errorMessage:"",fileBytes:[],showError:!1,browseFile:!1,showUploadResumePopup:!0,showDeleteOrFileReplacementPopup:!1})})),K(Q(o),"handleOutsideClickContact",(function(){o.setState({showUploadCompletedPopup:!1}),document.removeEventListener("click",o.handleOutsideClickContact,!1)})),K(Q(o),"blockingCallForGeniusMobileNormalize",(function(e,t){o.conductGeniusMobileNormalizeExperiment().then((function(n){o.updateDocument(e,t),n&&n.isSuccess&&n.data&&2==n.data.variant&&(window.BLDR.featureSets.geniusMobileNormalize=!0,-1==window.document.body.className.indexOf("exp-genius-normalize")&&window.document.body.classList.add("exp-genius-normalize"))})).catch((function(){window.BLDR.featureSets.geniusMobileNormalize=!1}))})),K(Q(o),"onNextClick",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"boolean"!=typeof e&&(e=!1);var t,n=o.props.isCalledFromFinalize?k.c[l.N.finalize]:o.isFunnelImprovements&&o.isStillEnrolledWithZeroExperience?Object(N.d)(o.props.document):Object(x.e)(o.props.document);(o.blockingCallForGeniusMobileNormalize(n,e),1!=e&&BLDR.UserClaims&&BLDR.UserClaims.user_uid)&&BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(K(t={},l.E.Activity,"clicked"),K(t,l.E.Page_Name,"resume heading"),K(t,l.E.Document_Type,"resumes"),K(t,l.E.Cta_Name,"next"),t),BLDR.UserClaims.user_uid,c.db())})),K(Q(o),"redirectToBackPage",(function(){var e,t=Object(k.a)(l.N.contact);if(o.props.document.preferences){var n=c.x(o.props.document,l.v.resumeUploaded)||"0";if(o.isResumeUploadInline||"1"!=n){var a=c.x(o.props.document,l.v.experiencePresent)||"",i=c.x(o.props.document,l.v.highestEducation)||"",r=c.x(o.props.document,l.v.graduationStatus)||"",s=c.x(o.props.document,l.v.graduationDate)||"";m.CommonHelper.isNullOrWhitespace(a)&&m.CommonHelper.isNullOrWhitespace(i)&&m.CommonHelper.isNullOrWhitespace(r)&&m.CommonHelper.isNullOrWhitespace(s)&&!window.BLDR.featureSets.skipOnboardingDesktopQuestionaries&&!BLDR.featureSets.ReorderOnboardingFunnel&&(t=k.c[l.N.howToStart])}else t=BLDR.featureSets.ReorderOnboardingFunnel?k.c[l.N.htsUpload]:k.c[l.N.howToStart]}BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(K(e={},l.E.Activity,"clicked"),K(e,l.E.Page_Name,"resume heading"),K(e,l.E.Document_Type,"resumes"),K(e,l.E.Cta_Name,"back"),e),BLDR.UserClaims.user_uid,c.db()),o.props.history.push(t)})),K(Q(o),"onBackClick",(function(){o.redirectToBackPage()})),K(Q(o),"onCancel",(function(){var e=o.props.nextPageUrl;o.props.history.push(e)})),K(Q(o),"getPasswordLessRedirectURL",(function(){var e="".concat(BLDR.Paths.BasePath).concat(BLDR.Localization.url_contact),t=e.indexOf("?")<0?"?":"&";return o.props.user&&o.props.user.user_uid&&(e="".concat(e).concat(t,"gid=").concat(o.props.user.user_uid)),o.props.document&&o.props.document.id&&(t=e.indexOf("?")<0?"?":"&",e="".concat(e).concat(t,"docid=").concat(o.props.document.id)),t=e.indexOf("?")<0?"?":"&",e="".concat(e).concat(t,"ht=ac"),encodeURIComponent(e)})),K(Q(o),"updateDocument",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o.refObj.contactComponent.getUpdatedSection(!0,!0);if(n.isValid){var a=o.props.document.id?0:200;a>0&&BLDR.startPageLoader();var i=setInterval((function(){if(o.props.document.id){clearInterval(i);var n=c.Hb(M({},o.state.document));if(o.props.document.id!=o.state.document.id&&(n=o.copyDummyDocumentState()),n=o.updateDocumentName(n),o.updateUserContact(n),c.zb(n,m.TypeCodes.sectionTypeCd.Contact),window.BLDR.featureSets.modifyContactDetails||c.wb(n),o.props.documentActions.UpdateDocument(o.props.user.user_uid,n),o.saveJobLocationUserPreference(n),o.saveDesiredJobTitleTrait(n),e)if(!0!==BLDR.featureSets.passwordLessSignup||BLDR.isloggedIn){if(BLDR.closePageLoader(),m.CommonHelper.getStorageValue(l.ob.signUpSkipClick)||BLDR.isloggedIn||t)o.navigateToPage(e,t);else{var a=e.indexOf("?")<0?"?":"&",r="".concat(k.c[l.N.signup],"?referrer=").concat(encodeURIComponent(e)).concat(a,"fromOptionalSignup=true");o.navigateToPage(r,t)}}else{BLDR.startPageLoader();var s=m.CommonHelper.getSectionByCD(n.sections,m.TypeCodes.sectionTypeCd.Contact).paragraphs[0].docDatas,p=m.CommonHelper.getCharValue(s,m.TypeCodes.fieldCd.Email),u=window.btoa(p);o.props.userActions.isalreadyRegisteredUser(u,BLDR.PortalSettings.ConfigurePortalCd).then((function(n){if(1==n){BLDR.closePageLoader();var a="".concat(BLDR.Paths.BasePath).concat(BLDR.Localization.url_contact),i="".concat(k.c[l.N.authenticationConfirmation],"?referrer=").concat(encodeURIComponent(a),"&isexistingcontact=true&confirmemail=").concat(u),r=o.getPasswordLessRedirectURL();SIGNIN.Accounts.sendLoginLink(p,window.BLDR.PortalSettings.ConfigureProductCd,encodeURIComponent(r),o.props.document.userId).then((function(){})).catch((function(){})),o.navigateToPage(i,t)}else{if(BLDR.closePageLoader(),m.CommonHelper.getStorageValue(l.ob.signUpSkipClick)||BLDR.isloggedIn||t)o.navigateToPage(e,t);else{var s=e.indexOf("?")<0?"?":"&",c="".concat(k.c[l.N.signup],"?referrer=").concat(encodeURIComponent(e)).concat(s,"fromOptionalSignup=true");o.navigateToPage(c,t)}}})).catch((function(){if(BLDR.closePageLoader(),m.CommonHelper.getStorageValue(l.ob.signUpSkipClick)||BLDR.isloggedIn||t)o.navigateToPage(e,t);else{var n=e.indexOf("?")<0?"?":"&",a="".concat(k.c[l.N.signup],"?referrer=").concat(encodeURIComponent(e)).concat(n,"fromOptionalSignup=true");o.navigateToPage(a,t)}}))}}}),a)}})),K(Q(o),"saveJobLocationUserPreference",(function(e){var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Contact);if(t){var n=c.A(t);m.CommonHelper.isNullOrWhitespace(n)||o.props.userActions.SaveUserPreference(o.props.document.userId,l.h.PreferenceJobLocation,n,BLDR.PortalSettings.ConfigurePortalCd)}})),K(Q(o),"saveDesiredJobTitleTrait",(function(e){var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Name);if(t&&t.paragraphs&&t.paragraphs.length>0&&t.paragraphs[0]&&t.paragraphs[0].docDatas.length>0){var n=m.CommonHelper.getCharValue(t.paragraphs[0].docDatas,m.TypeCodes.fieldCd.ResumeTitle)||"";BLDR.TrackEvents("identify",K({},l.Fb.desiredJobTitle,n),o.props.document.userId,!(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role))}})),K(Q(o),"copyDummyDocumentState",(function(){var e=JSON.parse(JSON.stringify(o.props.document)),t=o.refObj.contactComponent.getUpdatedSection(),n=o.getHeaderInitialState(e),a=JSON.parse(JSON.stringify(n.document));if(a&&t){var i=m.CommonHelper.getSectionByCD(a.sections,m.TypeCodes.sectionTypeCd.Contact);if(i&&i.paragraphs&&i.paragraphs.length>0&&t.Contact&&t.Contact.paragraphs&&t.Contact.paragraphs.length>0){var r=c.k(t.Contact.paragraphs[0],i.paragraphs[0]);if(r)a=m.DocumentHelper.updateDocumentParagraph(a,n.contactSection.id,r).newDocument}var s=m.CommonHelper.getSectionByCD(a.sections,m.TypeCodes.sectionTypeCd.Name);if(s&&s.paragraphs&&s.paragraphs.length>0&&t.Name&&t.Name.paragraphs&&t.Name.paragraphs.length>0){var l=c.k(t.Name.paragraphs[0],s.paragraphs[0]);if(l)a=m.DocumentHelper.updateDocumentParagraph(a,n.nameSection.id,l).newDocument}}return a})),K(Q(o),"updateUserContact",(function(e){var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Name).paragraphs[0].docDatas,n=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Contact).paragraphs[0].docDatas,a=new B.User;a.PortalCD=BLDR.PortalSettings.ConfigurePortalCd,a.Country=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.Country),a.City=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.City),a.State=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.State),a.UserUID=o.props.document.userId,a.PostalCD=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.ZipCode),a.PhoneNumber=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.HomePhone),a.CreatedOn=o.props.user.createdOn,window.BLDR.featureSets.modifyContactDetails&&(a.AddressLine1=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.Street)),a.EmailAddress=m.CommonHelper.getCharValue(n,m.TypeCodes.fieldCd.Email),a.FirstName=m.CommonHelper.getCharValue(t,m.TypeCodes.fieldCd.FirstName),a.LastName=m.CommonHelper.getCharValue(t,m.TypeCodes.fieldCd.LastName),o.updateUserEmailAddress(a.EmailAddress,a.FirstName),(a.FirstName||a.LastName||a.PhoneNumber)&&o.props.userActions.UpdateUserContact(a,!0)})),K(Q(o),"updateUserEmailAddress",(function(e,t){if("guest"==o.props.user.role.toLowerCase()&&!m.CommonHelper.isNullOrWhitespace(e)){o.props.userActions.UpdateEmailAddress(o.props.user.user_uid,e,!0,BLDR.PortalSettings.ConfigurePortal,!1,window.BLDR.PortalSettings.ConfigureProductCd).then((function(n){n&&n.is_new&&o.handleIdentifyTrackEvents(o.props.user.user_uid,e,t)}))}})),K(Q(o),"handleIdentifyTrackEvents",(function(e,t,n){return new Promise((function(a){var i=window.location.host.split(".")[0].replace("-builder","").replace("-app",""),r=[{name:"userId",value:e},{name:"email",value:t},{name:"PortalID",value:BLDR.PortalSettings.ConfigurePortal},{name:"Portal",value:BLDR.PortalSettings.ConfigurePortalName},{name:"environment",value:i},{name:"countrycode",value:BLDR.countryDetails.countryCode},{name:"producttype",value:"resumebuilder"},{name:"InitialFunnelType",value:"resumebuilder"},{name:"lastcreateddocumenttype",value:"resume"}];91==BLDR.PortalSettings.ConfigurePortal?r.push({name:"isRGNUser",value:!0}):92==BLDR.PortalSettings.ConfigurePortal?r.push({name:"isRCPUser",value:!0}):132==BLDR.PortalSettings.ConfigurePortal&&r.push({name:"isCVGUser",value:!0}),"guest"!=o.props.user.role.toLowerCase()||m.CommonHelper.isNullOrWhitespace(n)||r.push({name:"firstName",value:n});var s=c.z(e,r);o.props.documentActions.trackTTCEvents([s]).then((function(e){a(e)})).catch((function(){a(null)}))}))})),K(Q(o),"stopLoader",(function(){var e=document.getElementsByClassName("progress-bar-cta")[0];if(e){e.parentElement.classList.remove("active"),e.classList.add("done");var t=setInterval((function(){clearInterval(t),o.refObj.photoComponent&&o.refObj.photoComponent.closeUploadPopUp()}),800)}})),K(Q(o),"startLoader",(function(){var e=document.getElementsByClassName("progress-bar-cta")[0];e&&(e.parentElement.classList.add("active"),e.classList.add("loading"))})),K(Q(o),"resetCTACss",(function(){var e=document.getElementsByClassName("progress-bar-cta")[0];e&&(e.textContent="Save",e.parentElement.classList.remove("active"),e.classList.remove("done"))})),K(Q(o),"uploadPhoto",(function(e,t,n,a,i,r,s,c,l,p){return o.startLoader(),BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",91,700,!1,"%",""),BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",95,300,!1,"%",""),o.props.documentActions.uploadPhoto(e,t,n,a,i,r,s,c,l,p).then((function(e){var t=JSON.parse(JSON.stringify(o.state.document));e=o.syncDocumentWithContactComponent(e),BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",99,400,!1,"%",(function(){var n=setInterval((function(){clearInterval(n),o.stopLoader();var a=e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo})),i=t.sections.map((function(e){return e.sectionTypeCD})).indexOf(m.TypeCodes.sectionTypeCd.Photo);-1!==i?t.sections[i]=a:t.sections.unshift(a),o.context.setDocument(t),o.setState({document:t})}),500)}))})).catch((function(){BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",0,400,!1,"%",o.resetCTACss)})),!0})),K(Q(o),"syncDocumentWithContactComponent",(function(e){if(e){var t=o.refObj.contactComponent.getUpdatedSection(),n=t.Name.paragraphs[0],a=m.DocumentHelper.updateDocumentParagraph(e,o.state.nameSection.id,n);e=a.newDocument;var i=t.Contact.paragraphs[0];e=(a=m.DocumentHelper.updateDocumentParagraph(e,o.state.contactSection.id,i)).newDocument}return e})),K(Q(o),"handleFile",(function(e){var t;if(BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(K(t={},l.E.Activity,"clicked"),K(t,l.E.Page_Name,"resume option upload"),K(t,l.E.Document_Type,"resumes"),K(t,l.E.Cta_Name,"uploaded a file"),t),BLDR.UserClaims.user_uid,c.db()),e&&e.name){var n="",a=e.name.split(".");a.length>0&&(n=a[a.length-1]);["DOC","DOCX","PDF","ODT","HTML","HTM","RTF","TXT"].indexOf(n.toUpperCase())<0?o.handleUploadError("Invalid File Type",e.name):e.size<=0?o.handleUploadError("File is empty.",e.name):e.size>0&&e.size/1048576>BLDR.maxAllowedSize?o.handleUploadError("File is too large.",e.name):e.size>0&&e.name&&(o.readBinaryStringFromFile(e),setTimeout((function(){o.setState({fileName:e.name,browseFile:!0,showError:!1,fileBytes:[],fileType:n})})))}})),K(Q(o),"dragFileHandler",(function(){})),K(Q(o),"goToUploadScreen",(function(){o.createDocumentClicked||o.setState({browseFile:!1,showError:!1,fileName:"",fileType:"",fileBytes:[],errorMessage:""})})),K(Q(o),"onContinueClick",(function(){if(!o.createDocumentClicked){o.createDocumentClicked=!0,o.setState({isUploadinProgress:o.createDocumentClicked}),o.startLoader(),BLDR.animateJS(document.getElementById("progressBarCta"),"width",91,700,!1,"%",""),BLDR.animateJS(document.getElementById("progressBarCta"),"width",95,300,!1,"%","");var e=!0===o.fileDownloadComplete?0:200,t=setInterval((function(){if(o.fileDownloadComplete){clearInterval(t);var e=o.props.document;e.fileData=o.state.fileBytes;var n=m.CommonHelper.getStorageValue(l.ob.skinCD)||BLDR.defaultSkin;if(null!=e.fileData&&e.fileData.length>1){var a,i=["NAME","CNTC","SUMM","EXPR","EDUC","HILT","CERT","CUST"].concat(I(l.i)),r=Object.values(m.TypeCodes.sectionTypeCd).filter((function(e){return!new Set(i).has(e)})),s=e&&e.preferences,p=o.props.document.id,u={userId:o.props.user.user_uid,document:e,skinCD:n,portalId:BLDR.PortalSettings.ConfigurePortal,fileExtension:o.state.fileType,templateId:BLDR.templateId,cultureCd:BLDR.liteFlowCultureCD?BLDR.liteFlowCultureCD:BLDR.cultureCD,flowName:"",portalCd:BLDR.PortalSettings.ConfigurePortalCd,localizedDocumentText:BLDR.Localization.resume_Label,isINTLDocument:!1,skinColor:"",uploadMethod:"device",docStyles:[],country:{LocationCD:null===(a=BLDR.countryDetails)||void 0===a?void 0:a.countryCode},preference:"add",nonSupportedSections:r};o.props.documentActions.CreateInitialDocumentWithFile(u).then((function(e){e?(BLDR.createCookie("DocumentID",e),!(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role)&&!m.CommonHelper.isNullOrWhitespace(BLDR.UserClaims.email)&&c.T(o.props.documentActions.trackTTCEvents,o.props.user.user_uid,BLDR.UserClaims.email),o.parseDocPostDocCreation(s).then((function(e){BLDR.animateJS(document.getElementById("progressBarCta"),"width",100,400,!1,"%",o.stopLoader);var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Name),n=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Contact);o.setState({document:e,nameSection:t,contactSection:n,uploadedFileName:o.state.fileName}),o.context.setDocument(c.n(e)),o.props.documentActions.deleteUserResume(o.props.user.user_uid,p),setTimeout((function(){o.createDocumentClicked=!1,o.setState({showUploadCompletedScreen:!0,isUploadinProgress:o.createDocumentClicked})}),2e3)})).catch((function(){o.createDocumentClicked=!1,o.setState({isUploadinProgress:o.createDocumentClicked}),BLDR.animateJS(document.getElementById("progressBarCta"),"width",0,400,!1,"%",o.resetCTACss),o.handleUploadError("Something went wrong",o.state.fileName)}))):(o.createDocumentClicked=!1,o.setState({isUploadinProgress:o.createDocumentClicked}),o.handleUploadError("",o.state.fileName))})).catch((function(){o.createDocumentClicked=!1,o.setState({isUploadinProgress:o.createDocumentClicked}),BLDR.animateJS(document.getElementById("progressBarCta"),"width",0,400,!1,"%",o.resetCTACss),o.handleUploadError("Something went wrong",o.state.fileName)}))}else o.createDocumentClicked=!1,o.setState({isUploadinProgress:o.createDocumentClicked}),BLDR.animateJS(document.getElementById("progressBarCta"),"width",0,400,!1,"%",o.resetCTACss),o.handleUploadError("",o.state.fileName)}}),e)}})),K(Q(o),"parseDocPostDocCreation",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=U.b(o.props.document,o.props.user.user_uid,o.isFunnelImprvmnts),a=F(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.docPreferenceTypeCD!=l.v.experiencePresent&&i.docPreferenceTypeCD!=l.v.experienceLevel&&i.docPreferenceTypeCD!=l.v.highestEducation&&i.docPreferenceTypeCD!=l.v.graduationStatus||m.CommonHelper.addDocumentPreference(n,i.docPreferenceTypeCD,i.value)}}catch(e){a.e(e)}finally{a.f()}return m.CommonHelper.addDocumentPreference(n,l.v.resumeUploadedName,o.state.fileName),m.CommonHelper.addDocumentPreference(n,l.v.resumeUploadPopupShown,"1"),o.props.documentActions.UpdateDocument(o.props.user.user_uid,n,!1),new Promise((function(e){return e(n)}))})),K(Q(o),"onComponentChange",(function(){var e,t,n=o.refObj.contactComponent.getUpdatedSection(!0),a=JSON.parse(JSON.stringify(o.props.document)),i=null===(e=a)||void 0===e||null===(e=e.sections)||void 0===e?void 0:e.findIndex((function(e){return e.id===n.Name.id})),r=null===(t=a)||void 0===t||null===(t=t.sections)||void 0===t?void 0:t.findIndex((function(e){return e.id===n.Contact.id}));if(a.sections[i]=null==n?void 0:n.Name,a.sections[r]=null==n?void 0:n.Contact,o.fs_AddAdditionalFields){var s=n.Contact.paragraphs[0];s.docDatas.forEach((function(e){if("SOCL"==e.fieldCD){var t=[];t.push({typeCD:"ICON",value:c.L(e.docDataInfo)}),e.preferences=t}})),a=m.DocumentHelper.updateDocumentParagraph(a,n.Contact.id,s).newDocument}o.liveResumePreview&&o.context.setDocument(c.n(a)),o.isFs_photoUpload?o.setState({isValid:n.isValid,document:a}):o.setState({isValid:n.isValid})})),K(Q(o),"updateDocumentName",(function(e){var t=JSON.parse(JSON.stringify(e)),o=BLDR.Localization.resume_Label+"_1";if(t.name==o){var n="",a="",i="",r=m.CommonHelper.getSectionByCD(t.sections,m.TypeCodes.sectionTypeCd.Name);if(r&&r.paragraphs&&r.paragraphs.length>0&&r.paragraphs[0].docDatas&&r.paragraphs[0].docDatas.length>0){var s=r.paragraphs[0].docDatas;a=m.CommonHelper.getCharValue(s,m.TypeCodes.fieldCd.FirstName),i=m.CommonHelper.getCharValue(s,m.TypeCodes.fieldCd.LastName)}m.CommonHelper.isNullOrWhitespace(a)&&m.CommonHelper.isNullOrWhitespace(i)||(n=c.a(a,i,BLDR.Localization.resume_Label,0),t=M(M({},t),{},{name:n}))}return t})),K(Q(o),"onSelectClick",(function(e){e.name==m.TypeCodes.fieldCd.Country&&(e&&(e.countryCD==l.r.canada||e&&e.countryCD==l.r.unitedSates)?BLDR.States&&BLDR.States[e.countryCD]?o.setState({stateList:BLDR.States[e.countryCD]}):o.props.commonActions.GetStateList(e.countryCD).then((function(e){o.setState({stateList:e})})):o.setState({stateList:{}}))})),K(Q(o),"onSaveResumeClick",(function(){Object(_.b)(),o.onNextClick(!0)})),K(Q(o),"setDocumentProps",(function(e,t){var n=M({},o.state.document);n=o.resetDocumentStylesAndContainerIndexes_ForContact(n,e),null==t&&null==t||(n=c.nb(n,l.yb.SDCL,t,BLDR.getTemplateFromSkin)),o.setState({document:n})})),K(Q(o),"setDocumentAfterUpload",(function(){})),K(Q(o),"resetDocumentStylesAndContainerIndexes_ForContact",(function(e,t){var o=e,n=o.sections,a=m.DocumentHelper.GetDefaultSectionContainerIndexes(BLDR.getTemplateFromSkin(t),n);n&&n.length>0&&a&&a.length>0&&n.forEach((function(e){var t=a.find((function(t){return t.sectionCode==e.sectionTypeCD}));t&&(e.sectionContainerIndex=t.value)})),o=m.DocumentHelper.updateDocumentWithSkinCD(o,t);var i=m.CommonHelper.resetDefaultValues(t,o.docStyles,BLDR.getTemplateFromSkin);return o.docStyles=i,o.sections.map((function(e){return e.sectionContainerIndex=0,e})),o&&(o.sections=n),o})),K(Q(o),"addPictureSection",(function(){if(o.isFs_photoUpload){var e=JSON.parse(JSON.stringify(o.props.document));e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo}))||(e=m.DocumentHelper.addSection(e,"Picture","HEAD",1,m.TypeCodes.sectionTypeCd.Photo),e=o.resetDocumentStylesAndContainerIndexes_ForContact(e,o.props.document.skinCD),o.props.documentActions.UpdateDocument(o.props.user.user_uid,e))}})),K(Q(o),"hideCountryField",(function(){return BLDR.isCVG||BLDR.isGFR?c.W(BLDR.countryDetails.countryCode):m.CommonHelper.isCountryUS(BLDR.countryDetails.countryCode,!1)})),K(Q(o),"onDeleteClick",(function(){BLDR.startPageLoader();var e=M({},o.state.document),t=e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo})),n=m.DocumentHelper.removeSection(e,t.id);o.props.documentActions.UpdateDocument(o.props.user.user_uid,n).then((function(e){e&&(o.setState({document:e}),o.context.setDocument(e),o.refObj.photoComponent.toggleDeletePopup(),BLDR.closePageLoader())}))})),K(Q(o),"onClosePopupClick",(function(){o.setState({showPopup:!1})})),K(Q(o),"onDeleteResumeClick",(function(e,t){if(!t){e&&e.preventDefault();var n=e&&e.target?e.target:null;if(!o.createDocumentClicked){t&&BLDR.startPageLoader(),o.createDocumentClicked=!0,n&&n.classList&&n.classList.add("disabled");var a,i=m.CommonHelper.getStorageValue(l.ob.skinCD)||BLDR.defaultSkin,r=o.props.user.user_uid?0:200,s=[],p=F(o.props.document.preferences);try{for(p.s();!(a=p.n()).done;){var u=a.value;u.docPreferenceTypeCD!=l.v.experiencePresent&&u.docPreferenceTypeCD!=l.v.experienceLevel&&u.docPreferenceTypeCD!=l.v.highestEducation&&u.docPreferenceTypeCD!=l.v.graduationStatus&&u.docPreferenceTypeCD!=l.v.resumeUploadPopupShown||s.push(u)}}catch(e){p.e(e)}finally{p.f()}var d=setInterval((function(){if(o.props.user.user_uid){var e=o.props.document.id,a={userId:o.props.user.user_uid,document:{},skinCD:i,portalId:BLDR.PortalSettings.ConfigurePortal,templateId:BLDR.templateId,cultureCd:BLDR.liteFlowCultureCD?BLDR.liteFlowCultureCD:BLDR.cultureCD,localizedDocumentText:BLDR.Localization.resume_Label,productCd:BLDR.PortalSettings.ConfigureProductCd,flowName:"",isINTL:!1,skinColor:"",isChangeSectionNames:!1,docStyles:[],preferences:s};clearInterval(d),o.props.documentActions.CreateInitialDocument(a).then((function(a){n&&n.classList&&n.classList.remove("disabled"),t&&BLDR.closePageLoader(),o.createDocumentClicked=!1,a&&BLDR.createCookie("DocumentID",a);var i={showDeleteOrFileReplacementPopup:!1,uploadedFileName:""};Object.assign(i,o.getHeaderInitialState(JSON.parse(JSON.stringify(o.props.document)))),o.setState(i),o.context.setDocument(c.n(o.props.document)),o.props.documentActions.deleteUserResume(o.props.user.user_uid,e),!(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role)&&!m.CommonHelper.isNullOrWhitespace(BLDR.UserClaims.email)&&c.T(o.props.documentActions.trackTTCEvents,o.props.user.user_uid,BLDR.UserClaims.email)})).catch((function(){n&&n.classList&&n.classList.remove("disabled"),t&&BLDR.closePageLoader()}))}}),r)}}})),K(Q(o),"getInfoForContactInlineUpload",(function(){return o.state})),K(Q(o),"getAddSectionControls",(function(e){var t=[{id:"DOB1",objKey:"birthDate",tabIndex:13,textFieldOnly:!0,trackName:"DOB",isDOBWithCalendar:!1},{id:"DRIV",objKey:"driving_Info",tabIndex:14,textFieldOnly:!0,trackName:"driving license"},{id:"NTLY",objKey:"nationality",tabIndex:15,textFieldOnly:!0,trackName:"nationality"},{id:"SOCL_Social_LinkedIn",objKey:"socialLink",tabIndex:11,multipleEntry:!1,category:"Social",trackName:"linkedIn",name:"SOCL_Social",socialTypeCode:"LinkedIn",socialLabel:e.socialLinkLabel_Linkedin,socialPlaceholder:e.socialLinkPlaceholder_Linkedin,seperateField:!0,regEx:"^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$",errorMessage:e.socialLinkErrorMessage_Linkedin},{id:"SOCL_Social_Twitter",objKey:"socialLink",tabIndex:11,multipleEntry:!1,category:"Social",trackName:"Twitter",name:"SOCL_Social",socialTypeCode:"Twitter",socialLabel:e.socialLinkLabel_Twitter,socialPlaceholder:e.socialLinkPlaceholder_Twitter,seperateField:!0,regEx:"^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$",errorMessage:e.socialLinkErrorMessage_Twitter},{id:"SOCL_Social_Website",objKey:"socialLink",tabIndex:11,multipleEntry:!1,category:"Social",trackName:"Website",name:"SOCL_Social",socialTypeCode:"Website",socialLabel:e.socialLinkLabel_Website,socialPlaceholder:e.socialLinkPlaceholder_Website,seperateField:!0,regEx:"^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$",errorMessage:e.socialLinkErrorMessage_Website}];return window.BLDR.featureSets.modifyContactDetails&&t.push({id:m.TypeCodes.fieldCd.Street,objKey:"streetaddress",tabIndex:15,textFieldOnly:!0,trackName:"streetaddress"}),t})),K(Q(o),"controlUploadResumeInlinePopup",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.setState({showDeleteOrFileReplacementPopup:e,uploadResumeSidebarScreen:t,showUploadCompletedScreen:!1})})),K(Q(o),"confirmDeletePopUp",(function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"del-icon-wrap",onClick:function(){return o.closeUploadCompletedPopup()}},a.a.createElement(f.O,null)),a.a.createElement("h2",{className:"modal-title"},BLDR.Localization.Confirm_file_deletion_text_upload_inline_Exp),a.a.createElement("p",{className:"modal-text"},BLDR.Localization.Confirm_delete_popup_text_upload_inline_Exp),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{className:"button button-default",onClick:function(){return o.controlUploadResumeInlinePopup(!1)}},BLDR.Localization.Cancel_upload_inline_Exp),a.a.createElement("button",{className:"button button-primary button-delete",onClick:function(){return o.onDeleteResumeClick()}},BLDR.Localization.Delete_upload_inline_Exp)))})),K(Q(o),"confirmFileReplacementPopUp",(function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"modal-title"},BLDR.Localization.Confirm_file_replacement_upload_inline_Exp),a.a.createElement("p",{className:"modal-text"},BLDR.Localization.Confirm_file_replacement_popup_text_upload_inline_Exp),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{className:"button button-default",onClick:function(){return o.controlUploadResumeInlinePopup(!1)}},BLDR.Localization.Cancel_upload_inline_Exp),a.a.createElement("button",{className:"button button-primary button-delete",onClick:function(){return o.openResumeInlineUploadPopup()}},BLDR.Localization.Select_new_file_upload_inline_Exp)))})),o.refObj={},o.createDocumentClicked=!1,o.liveResumePreview=BLDR.showLiveResumePreview,o.isMobileUploadFunnelExp=!BLDR.IsMobileDevice()||window.BLDR.featureSets.mobileUploadFunnel,o.isFs_PreviewAndTips=window.BLDR.featureSets.resumePreviewAndTips,o.isResumeUploaded=c.x(o.props.document,l.v.resumeUploaded)||"0",o.isResumeCompletePoupFirstTime=c.x(o.props.document,l.v.resumeCompletePopupShown)||"0",o.isResumeUploadPoupFirstTime=c.x(o.props.document,l.v.resumeUploadPopupShown),o.isResumeUploadInline=c.hb(),o.isResumeUploadInlineV2=c.ib(),o.fs_AddAdditionalFields=!!window.BLDR.featureSets.AddAdditionalFields,o.state=M(M({},o.getHeaderInitialState(JSON.parse(JSON.stringify(o.props.document)))),{},{isValid:!1,stateList:{},showUploadCompletedPopup:o.isUploadCompletedPopupToBeShown(),fileName:"",fileType:"",errorMessage:"",fileBytes:[],showError:!1,browseFile:!1,showUploadCompletedScreen:!1,showUploadResumePopup:o.isInLineUploadResumePopupToBeShown(),showDeleteOrFileReplacementPopup:!1,uploadedFileName:c.x(o.props.document,l.v.resumeUploadedName)||"",uploadResumeSidebarScreen:0}),o.fileDownloadComplete=!1,o.isFs_photoUpload=window.BLDR.featureSets.photoUpload,o.isMobilePersonalizedChooseTemplate=!!window.BLDR.featureSets.mobilePersonalizedChooseTemplate,o.isFunnelImprovements=window.BLDR.featureSets.isFunnelImprovements,o.isStillEnrolledWithZeroExperience=c.lb(o.props.document),o.is_UK_Country=BLDR.countryDetails&&("UK"==BLDR.countryDetails.countryCode||"GB"==BLDR.countryDetails.countryCode),o.isCountrySpecificPlaceholder=window.BLDR.featureSets.countrySpecificPlaceHolders,o}return t=r,(o=[{key:"isInLineUploadResumePopupToBeShown",value:function(){return!this.isResumeUploadPoupFirstTime&&this.isResumeUploadInline&&!this.isResumeUploadInlineV2}},{key:"isUploadCompletedPopupToBeShown",value:function(){return"1"==this.isResumeUploaded&&this.isMobileUploadFunnelExp&&"1"!=this.isResumeCompletePoupFirstTime&&!this.isResumeUploadInline}},{key:"componentDidMount",value:function(){var e,t=this;if(this.isUploadCompletedPopupToBeShown()){var o;document.addEventListener("click",this.handleOutsideClickContact,!1),BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(K(o={},l.E.Activity,"viewed"),K(o,l.E.Page_Name,"resume option"),K(o,l.E.Document_Type,"resumes"),K(o,l.E.Cta_Name,"successfully uploaded existing resume"),o),BLDR.UserClaims.user_uid,c.db());var n=JSON.parse(JSON.stringify(this.props.document));m.CommonHelper.addDocumentPreference(n,l.v.resumeCompletePopupShown,"1"),this.props.documentActions.UpdateDocument(this.props.user.user_uid,n),this.setState({document:n})}if(this.isInLineUploadResumePopupToBeShown()){var a=JSON.parse(JSON.stringify(this.props.document));m.CommonHelper.addDocumentPreference(a,l.v.resumeUploadPopupShown,"1"),this.props.documentActions.UpdateDocument(this.props.user.user_uid,a)}if(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role){BLDR.isRG&&"Guest"==BLDR.UserClaims.role&&c.f(BLDR.PortalExperiments.expPasswordLessAuth.id)&&BLDR.PortalExperiments.expPasswordLessAuth&&this.conductPasswordLessAuthExperiment();var i=BLDR.getQueryString("scrn"),r=BLDR.getQueryString("source");if(i&&r&&"email"==r){var s="".concat(k.c[l.N.signup],"?referrer=").concat(encodeURIComponent(BLDR.Paths.BasePath+BLDR.Localization.url_contact),"&source=email");return void this.props.history.replace(s)}}var p=this.props.paragraph.docDatas;if(m.CommonHelper.getCharValue(p,m.TypeCodes.fieldCd.Email)){var u={},d=m.CommonHelper.getCharValue(p,m.TypeCodes.fieldCd.Country);BLDR.States&&BLDR.States[d]?m.CommonHelper.isCountryUS(BLDR.countryDetails.countryCode,!1)||(u=BLDR.States[d]||{},this.setState({isValid:!0,stateList:BLDR.States[d]})):d==l.r.canada?this.props.commonActions.GetStateList(d).then((function(e){u=e||{},t.setState({isValid:!0,stateList:e})})).catch((function(){t.setState({isValid:!0,stateList:u})})):this.setState({isValid:!0,stateList:u})}this.props.saveUserStages(l.Eb.Contact),BLDR.TrackEvents(l.F.DOCUMENT_EVENTS,(K(e={},l.E.Activity,"viewed"),K(e,l.E.Page_Name,"resume heading"),K(e,l.E.Document_Type,"resumes"),e),BLDR.UserClaims.user_uid,c.db()),BLDR.PortalExperiments.expRemoveExperienceQuestion&&BLDR.PortalExperiments.expRemoveExperienceQuestion.id&&this.conductRemoveExperienceQuestionExperiment(),BLDR.PortalExperiments.expModifyRegistrationPage&&BLDR.isCVG&&BLDR.PortalExperiments.expModifyRegistrationPage.id&&c.f(BLDR.PortalExperiments.expModifyRegistrationPage.id)&&this.conductModifyRegisterationPageExperiment(),BLDR.PortalExperiments.expRGNRegistrationImprovement&&!BLDR.featureSets.passwordLessSignup&&BLDR.isRG&&"Guest"==BLDR.UserClaims.role&&BLDR.PortalExperiments.expRGNRegistrationImprovement.id&&c.f(BLDR.PortalExperiments.expRGNRegistrationImprovement.id)&&this.conductRegistrationImprovementExperiment()}},{key:"componentDidUpdate",value:function(e,t){var o=this.props.document.skinCD,n=t.document.skinCD,a=JSON.parse(JSON.stringify(this.props.document)),i=c.q(a),r=c.q(t.document);this.isFs_PreviewAndTips||o===n&&i===r||this.setDocumentProps(o,i)}},{key:"readBinaryStringFromFile",value:function(e){this.fileDownloadComplete=!1;var t=new FileReader;t.readAsBinaryString?(t.readAsBinaryString(e),t.onload=function(){var e=this,o=window.btoa(t.result);this.setState({fileBytes:o},(function(){e.fileDownloadComplete=!0}))}.bind(this)):(t.readAsArrayBuffer(e),t.onload=function(){for(var e=this,o="",n=new Uint8Array(t.result),a=n.byteLength,i=0;i<a;i++)o+=String.fromCharCode(n[i]);if(o.length>0){var r=window.btoa(o);this.setState({fileBytes:r},(function(){e.fileDownloadComplete=!0}))}}.bind(this))}},{key:"handleUploadError",value:function(e,t){this.setState({showError:!0,browseFile:!0,fileBytes:[],fileName:t,errorMessage:e})}},{key:"navigateToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=c.E(e,t,this.props.location);t&&document.body.classList.remove("fs-live-previewV2"),this.props.history.push(o)}},{key:"render",value:function(){var e={UserUid:this.props.document.userId},t=c.u(m.TypeCodes.fieldCd.Country,!0),o=c.Bb(y.h,"contact");o=c.Ab(o,"contact");var n=m.CommonHelper.getSectionByCD(this.state.document.sections,m.TypeCodes.sectionTypeCd.Photo)||{},i=n&&n.paragraphs&&n.paragraphs.length>0?m.CommonHelper.getCharValue(n.paragraphs[0].docDatas,m.TypeCodes.fieldCd.PhotoURL):"";return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{onDeleteClick:this.onDeleteClick,isFs_photoUpload:this.isFs_photoUpload,photoURL:i,uploadPhoto:this.uploadPhoto,state:this.state,contactLocalizaion:o,isCalledFromFinalize:this.props.isCalledFromFinalize,assignRef:this.assignRef,propsObj:this.propsObj,User:e,onCancel:this.onCancel,onNextClick:this.onNextClick,onBackClick:this.onBackClick,onComponentChange:this.onComponentChange,onSelectClick:this.onSelectClick,countries:t,stateList:this.state.stateList,hidePanelBanner:!1,useUpdatedUI:!0,match:this.props.match,pageName:this.props.pageName,isPlaceholderExp:this.isCountrySpecificPlaceholder,liveResumePreview:this.liveResumePreview,isFs_PreviewAndTips:this.isFs_PreviewAndTips,saveResume:this.isFs_PreviewAndTips?this.onSaveResumeClick:null,hideCountryCD:c.U(),setDocumentProps:this.setDocumentProps,closeUploadCompletedPopup:this.closeUploadCompletedPopup,isMobileUploadFunnelExp:this.isMobileUploadFunnelExp,isResumeUploaded:this.isResumeUploaded,addPictureSection:this.addPictureSection,showPopup:this.state.showPopup,history:this.props.history,onClosePopupClick:this.onClosePopupClick,handleFile:this.handleFile,goToUploadScreen:this.goToUploadScreen,addSpecialFieldsButton:this.fs_AddAdditionalFields,addSectionControls:this.getAddSectionControls(o),getInfoForContactInlineUpload:this.getInfoForContactInlineUpload,onUploadresumeClick:this.onUploadresumeClick,onContinueClick:this.onContinueClick,closeUploadCompletedPopupInline:this.closeUploadCompletedPopupInline,openResumeInlineUploadPopup:this.openResumeInlineUploadPopup,confirmDeletePopUp:this.confirmDeletePopUp,confirmFileReplacementPopUp:this.confirmFileReplacementPopUp,controlUploadResumeInlinePopup:this.controlUploadResumeInlinePopup,dragFileHandler:this.dragFileHandler}))}}])&&V(t.prototype,o),n&&V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component);K(X,"contextType",O.a)},722:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n=o(0),a=o.n(n),i=o(4),r=o(1),s=o(8),c=o(225);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function d(e){var t=function(e){switch(e=e.toLowerCase().replace(/\s/g,"")){case r.ab.yes:return a.a.createElement(s.eb,null);case r.ab.no:return a.a.createElement(s.Z,null);case r.ab.other:return a.a.createElement(s.ab,null);case r.ab.college:return a.a.createElement(s.N,null);case r.ab.highSchool:return a.a.createElement(s.W,null);case r.ab.stillEnrolled.toLowerCase().replace(/\s/g,""):return a.a.createElement(s.S,null);case r.ab.uponRequest:return a.a.createElement(s.cb,null);default:return a.a.createElement(s.ab,null)}};return a.a.createElement(a.a.Fragment,null,function(o,n,s){if(o&&o.length>0)return o.map((function(o,c){var l=o.value||o,p=o.label||o;return a.a.createElement("div",{key:c,onClick:function(){e.onNextClick(l,s)},className:i.ob(n,l)?"radio-button-container active":"radio-button-container",role:"radio"},a.a.createElement("div",{className:"radio-button-content"},!((window.BLDR.featureSets.personalizedChooseTemplate||!!window.BLDR.featureSets.mobilePersonalizedChooseTemplate)&&s===r.cb.workEx_Question)&&a.a.createElement("div",{className:"radio-button-icon-wrapper"},a.a.createElement("div",{className:"radio-button-icon"},t(l))),a.a.createElement("span",{className:"radio-button-text"},p||"")))}))}(e.options,e.selectedOption,e.screenName),BLDR.IsMobileDevice()&&a.a.createElement(c.a,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){u(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},{backBtnText:null,nextBtnText:null,onBackClick:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!0})))}},758:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return s}));var n=o(0),a=o.n(n),i=o(8),r=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},a.a.createElement(i.f,{colorClass:"icon"}))},s=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},a.a.createElement(i.d,{colorClass:"icon"}))}},759:function(e,t,o){"use strict";var n=o(0),a=o.n(n),i=o(1),r=o(4);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.a=function(e){var t=a.a.useRef(null),o=".pdf, application/pdf,application/msword";return o+=",application/vnd.openxmlformats-officedocument.wordprocessingml.document",o+=",application/vnd.oasis.opendocument.text,text/html,text/rtf,text/plain",a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{type:"button",className:e.className,onClick:function(){var o;"Browse"==e.name&&BLDR.TrackEvents(i.F.DOCUMENT_EVENTS,(c(o={},i.E.Activity,"clicked"),c(o,i.E.Page_Name,"resume option"),c(o,i.E.Document_Type,"resumes"),c(o,i.E.Cta_Name,"browse"),o),BLDR.UserClaims.user_uid,r.db());e.resetFileName&&e.resetFileName(),t.current.value="",e.isUploadInProgress||t.current.click()}},e.name),a.a.createElement("input",{id:e.id,type:"file",accept:o,ref:t,onChange:function(t){var o=t.target.files[0];e.handleFile(o)},style:{display:"none"}}))}},762:function(e,t,o){"use strict";var n=o(0),a=o.n(n);t.a=function(){var e={height:"100%",width:"282px"};return BLDR.IsMobileDevice()&&(e={height:"100%",width:"178px"}),a.a.createElement("div",{style:e,className:"progress-bar-ctnr"},a.a.createElement("div",{className:"progress-bar",id:"progressBarCta",style:{height:"100%",width:"0%",transition:"width 1s, border-radius 1s  ease-in-out 0s",borderRadius:"inherit"}},a.a.createElement("span",{className:"done-text",style:{padding:5,color:"white",fontWeight:"bold"}})))}}}]);